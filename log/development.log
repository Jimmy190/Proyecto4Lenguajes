  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-06-27 23:44:22.858392', '2025-06-27 23:44:22.858399') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProductos (20250627234329)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "productos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "precio" decimal, "stock" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234329') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMovimientos (20250627234335)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "movimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "tipo" varchar, "nota" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3e151d0f6d"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_movimientos_on_producto_id" ON "movimientos" ("producto_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234335') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateClientes (20250627234342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "clientes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "correo" varchar, "direccion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234342') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTasas (20250627234355)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "tasas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "porcentaje" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234355') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFacturas (20250627234404)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "cliente_id" integer NOT NULL, "numero" integer, "subtotal" decimal, "total" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c1da424846"
FOREIGN KEY ("cliente_id")
  REFERENCES "clientes" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_facturas_on_cliente_id" ON "facturas" ("cliente_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234404') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateDetalleFacturas (20250627234413)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "detalle_facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "factura_id" integer NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "precio_unitario" decimal, "tasa_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1a9aeb3114"
FOREIGN KEY ("factura_id")
  REFERENCES "facturas" ("id")
, CONSTRAINT "fk_rails_0a3f83598c"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
, CONSTRAINT "fk_rails_0d73f41fa9"
FOREIGN KEY ("tasa_id")
  REFERENCES "tasas" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_factura_id" ON "detalle_facturas" ("factura_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_producto_id" ON "detalle_facturas" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_tasa_id" ON "detalle_facturas" ("tasa_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234413') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-06-27 18:02:38 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 1321)
  Rendered layout layouts/application.html.erb (Duration: 48.0ms | Allocations: 7599)
Completed 500 Internal Server Error in 597ms (ActiveRecord: 11.0ms | Allocations: 28184)


  
ActionView::Template::Error (The asset "application.css" is not present in the asset pipeline.
):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
     9:     <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
    10:   </head>
    11: 
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2025-06-27 18:04:22 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1052)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 5630)
Completed 500 Internal Server Error in 149ms (ActiveRecord: 5.9ms | Allocations: 8107)


  
ActionView::Template::Error (The asset "application.css" is not present in the asset pipeline.
):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload", media: "all", "data-turbo-track": "reload" %>
     9:     <%= javascript_include_tag "application", type: "module", "data-turbo-track": "reload" %>
    10: 
    11:   </head>
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2025-06-27 18:08:10 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 6834)
Completed 500 Internal Server Error in 189ms (ActiveRecord: 5.5ms | Allocations: 19448)


  
ActionView::Template::Error (The asset "application.css" is not present in the asset pipeline.
):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload", media: "all" %>
     9:     <%= javascript_include_tag "application", type: "module", "data-turbo-track": "reload" %>
    10: 
    11: 
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2025-06-27 18:08:15 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 374)
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | Allocations: 4527)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.1ms | Allocations: 4777)


  
ActionView::Template::Error (The asset "application.css" is not present in the asset pipeline.
):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload", media: "all" %>
     9:     <%= javascript_include_tag "application", type: "module", "data-turbo-track": "reload" %>
    10: 
    11: 
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2025-06-27 18:11:28 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 372)
  Rendered layout layouts/application.html.erb (Duration: 730.2ms | Allocations: 78637)
Completed 500 Internal Server Error in 733ms (ActiveRecord: 0.1ms | Allocations: 78888)


  
ActionView::Template::Error (Permission denied @ rb_file_s_rename - (C:/Users/User/Desktop/Proyecto4Lenguajes/tmp/cache/assets/sprockets/v4.0.0/vd/vdYty8nELucBc1opWvsUDxZrmE7VbEdEn5ZECg4BdNk.cache.29120.32936.786581, C:/Users/User/Desktop/Proyecto4Lenguajes/tmp/cache/assets/sprockets/v4.0.0/vd/vdYty8nELucBc1opWvsUDxZrmE7VbEdEn5ZECg4BdNk.cache)):
  
sprockets (4.2.2) lib/sprockets/path_utils.rb:362:in `rename'
sprockets (4.2.2) lib/sprockets/path_utils.rb:362:in `atomic_write'
sprockets (4.2.2) lib/sprockets/cache/file_store.rb:112:in `set'
sprockets (4.2.2) lib/sprockets/cache.rb:227:in `set'
sprockets (4.2.2) lib/sprockets/cache.rb:143:in `set'
sprockets (4.2.2) lib/sprockets/loader.rb:343:in `fetch_asset_from_dependency_cache'
sprockets (4.2.2) lib/sprockets/loader.rb:43:in `load'
sprockets (4.2.2) lib/sprockets/cached_environment.rb:44:in `block in load'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:207:in `block in fetch_or_store'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:187:in `fetch'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:206:in `fetch_or_store'
sprockets (4.2.2) lib/sprockets/cached_environment.rb:44:in `load'
sprockets (4.2.2) lib/sprockets/bundle.rb:32:in `block in call'
C:/Ruby32-x64/lib/ruby/3.2.0/set.rb:511:in `each_key'
C:/Ruby32-x64/lib/ruby/3.2.0/set.rb:511:in `each'
sprockets (4.2.2) lib/sprockets/bundle.rb:31:in `call'
sprockets (4.2.2) lib/sprockets/processor_utils.rb:84:in `call_processor'
sprockets (4.2.2) lib/sprockets/processor_utils.rb:66:in `block in call_processors'
sprockets (4.2.2) lib/sprockets/processor_utils.rb:65:in `reverse_each'
sprockets (4.2.2) lib/sprockets/processor_utils.rb:65:in `call_processors'
sprockets (4.2.2) lib/sprockets/loader.rb:184:in `load_from_unloaded'
sprockets (4.2.2) lib/sprockets/loader.rb:59:in `block in load'
sprockets (4.2.2) lib/sprockets/loader.rb:339:in `fetch_asset_from_dependency_cache'
sprockets (4.2.2) lib/sprockets/loader.rb:43:in `load'
sprockets (4.2.2) lib/sprockets/cached_environment.rb:44:in `block in load'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:207:in `block in fetch_or_store'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:187:in `fetch'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/map.rb:206:in `fetch_or_store'
sprockets (4.2.2) lib/sprockets/cached_environment.rb:44:in `load'
sprockets (4.2.2) lib/sprockets/base.rb:81:in `find_asset'
sprockets (4.2.2) lib/sprockets/base.rb:88:in `find_all_linked_assets'
sprockets (4.2.2) lib/sprockets/manifest.rb:125:in `each'
sprockets (4.2.2) lib/sprockets/manifest.rb:125:in `to_a'
sprockets (4.2.2) lib/sprockets/manifest.rb:125:in `block (2 levels) in find'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:24:in `block in execute'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `block in synchronize'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/synchronization/mutex_lockable_object.rb:48:in `synchronize'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/safe_task_executor.rb:22:in `execute'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/promise.rb:564:in `block in realize'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:359:in `run_task'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:350:in `block (3 levels) in create_worker'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `loop'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:341:in `block (2 levels) in create_worker'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `catch'
concurrent-ruby (1.3.5) lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:340:in `block in create_worker'
Started GET "/" for 127.0.0.1 at 2025-06-27 18:11:53 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 214.5ms | Allocations: 38769)
Completed 500 Internal Server Error in 282ms (ActiveRecord: 3.4ms | Allocations: 51381)


  
ActionView::Template::Error (Asset `application.css` was not declared to be precompiled in production.
Declare links to your assets in `app/assets/config/manifest.js`.

  //= link application.css

and restart your server):
     5:     <%= csrf_meta_tags %>
     6:     <%= csp_meta_tag %>
     7: 
     8:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload", media: "all" %>
     9:     <%= javascript_include_tag "application", type: "module", "data-turbo-track": "reload" %>
    10: 
    11: 
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2025-06-27 18:16:00 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (1.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 417.6ms | Allocations: 40001)
Completed 200 OK in 488ms (Views: 418.5ms | ActiveRecord: 13.0ms | Allocations: 52655)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/clientes" for ::1 at 2025-06-27 18:16:03 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 952)
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 2748)
Completed 200 OK in 119ms (Views: 46.7ms | ActiveRecord: 0.2ms | Allocations: 4222)


Started GET "/movimientos" for ::1 at 2025-06-27 18:16:06 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.4ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 43.4ms | Allocations: 2139)
  Rendered layout layouts/application.html.erb (Duration: 73.6ms | Allocations: 4172)
Completed 200 OK in 228ms (Views: 85.9ms | ActiveRecord: 1.3ms | Allocations: 7399)


Started GET "/tasas" for ::1 at 2025-06-27 18:16:07 -0600
Started GET "/facturas" for ::1 at 2025-06-27 18:16:07 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 955)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 2785)
Completed 200 OK in 118ms (Views: 60.0ms | ActiveRecord: 0.2ms | Allocations: 4271)


  
Zeitwerk::NameError (expected file C:/Users/User/Desktop/Proyecto4Lenguajes/app/controllers/facturas_controller.rb to define constant FacturasController, but didn't):
  
zeitwerk (2.7.3) lib/zeitwerk/loader/callbacks.rb:31:in `on_file_autoloaded'
zeitwerk (2.7.3) lib/zeitwerk/core_ext/kernel.rb:27:in `require'
activesupport (7.1.5.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.5.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.5.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.5.1) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.5.1) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/movimientos" for ::1 at 2025-06-27 18:16:08 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 418)
  Rendered layout layouts/application.html.erb (Duration: 224.4ms | Allocations: 2505)
Completed 200 OK in 227ms (Views: 226.4ms | ActiveRecord: 0.1ms | Allocations: 2834)


Started GET "/productos" for ::1 at 2025-06-27 18:16:10 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 367)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 2355)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.2ms | Allocations: 2606)


Started GET "/movimientos" for ::1 at 2025-06-27 18:16:10 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 2431)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.1ms | Allocations: 2713)


Started GET "/clientes" for ::1 at 2025-06-27 18:16:11 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 641)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 2401)
Completed 200 OK in 29ms (Views: 28.8ms | ActiveRecord: 0.1ms | Allocations: 2652)


Started GET "/tasas" for ::1 at 2025-06-27 18:16:12 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 640)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 2400)
Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.2ms | Allocations: 2650)


Started GET "/movimientos" for ::1 at 2025-06-27 18:16:13 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 2422)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.2ms | Allocations: 2704)


Started GET "/clientes" for ::1 at 2025-06-27 18:16:19 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 637)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 2397)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.1ms | Allocations: 2647)


Started GET "/movimientos" for ::1 at 2025-06-27 18:16:20 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 2425)
Completed 200 OK in 23ms (Views: 22.4ms | ActiveRecord: 0.2ms | Allocations: 2707)


Started GET "/clientes" for ::1 at 2025-06-27 18:16:20 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 643)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 2403)
Completed 200 OK in 29ms (Views: 28.2ms | ActiveRecord: 0.1ms | Allocations: 2653)


Started GET "/tasas" for ::1 at 2025-06-27 18:16:21 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 625)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 2385)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.1ms | Allocations: 2635)


Started GET "/facturas" for ::1 at 2025-06-27 18:16:22 -0600
  
ActionController::RoutingError (uninitialized constant FacturasController):
  
Started GET "/tasas" for ::1 at 2025-06-27 18:16:26 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 640)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 2409)
Completed 200 OK in 36ms (Views: 34.4ms | ActiveRecord: 0.1ms | Allocations: 2659)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/facturas" for ::1 at 2025-06-27 18:16:27 -0600
  
ActionController::RoutingError (uninitialized constant FacturasController):
  
Started GET "/facturas" for ::1 at 2025-06-27 18:16:28 -0600
  
ActionController::RoutingError (uninitialized constant FacturasController):
  
Started GET "/facturas" for ::1 at 2025-06-27 18:17:49 -0600
  
ActionController::RoutingError (uninitialized constant FacturasController):
  
Started GET "/" for ::1 at 2025-06-27 18:29:41 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 283.4ms | Allocations: 24904)
Completed 200 OK in 550ms (Views: 320.7ms | ActiveRecord: 11.3ms | Allocations: 37560)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/facturas" for ::1 at 2025-06-27 18:29:44 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.4ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 183.0ms | Allocations: 5556)
  Rendered layout layouts/application.html.erb (Duration: 217.2ms | Allocations: 7346)
Completed 200 OK in 243ms (Views: 241.8ms | ActiveRecord: 0.6ms | Allocations: 7767)


Started GET "/tasas" for ::1 at 2025-06-27 18:29:45 -0600
Started GET "/facturas" for ::1 at 2025-06-27 18:29:45 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.3ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 946)
  Rendered layout layouts/application.html.erb (Duration: 33.6ms | Allocations: 2791)
Completed 200 OK in 84ms (Views: 56.5ms | ActiveRecord: 0.3ms | Allocations: 4298)


Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2242)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 4010)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.3ms | Allocations: 4248)


Started POST "/facturas" for ::1 at 2025-06-27 18:29:50 -0600
Processing by FacturasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "cliente_id"=>"", "commit"=>"Crear Factura"}
Completed 400 Bad Request in 48ms (ActiveRecord: 0.0ms | Allocations: 2290)


  
ActionController::ParameterMissing (param is missing or the value is empty: factura):
  
app/controllers/facturas_controller.rb:40:in `factura_params'
app/controllers/facturas_controller.rb:3:in `create'
Started GET "/facturas" for ::1 at 2025-06-27 18:29:50 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2234)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 4017)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.2ms | Allocations: 4255)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/movimientos" for ::1 at 2025-06-27 18:29:58 -0600
Processing by MovimientosController#index as HTML
Started GET "/productos" for ::1 at 2025-06-27 18:29:58 -0600
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.4ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 1323)
  Rendered layout layouts/application.html.erb (Duration: 87.0ms | Allocations: 3411)
Completed 200 OK in 117ms (Views: 99.9ms | ActiveRecord: 0.7ms | Allocations: 6128)


Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 367)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 2379)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.1ms | Allocations: 2630)


Started GET "/movimientos" for ::1 at 2025-06-27 18:29:59 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 2419)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.2ms | Allocations: 2701)


Started GET "/clientes" for ::1 at 2025-06-27 18:29:59 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 846)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 2619)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.1ms | Allocations: 3155)


Started GET "/tasas" for ::1 at 2025-06-27 18:29:59 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 635)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 2395)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.1ms | Allocations: 2646)


Started GET "/facturas" for ::1 at 2025-06-27 18:30:00 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2246)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 4013)
Completed 200 OK in 16ms (Views: 15.7ms | ActiveRecord: 0.1ms | Allocations: 4250)


Started GET "/productos" for ::1 at 2025-06-27 18:30:01 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 366)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 2372)
Completed 200 OK in 32ms (Views: 31.4ms | ActiveRecord: 0.1ms | Allocations: 2622)


Started GET "/movimientos" for ::1 at 2025-06-27 18:30:02 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 2413)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.2ms | Allocations: 2695)


Started GET "/clientes" for ::1 at 2025-06-27 18:30:02 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 625)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 2385)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.4ms | Allocations: 2635)


Started GET "/tasas" for ::1 at 2025-06-27 18:30:02 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 625)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 2385)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.1ms | Allocations: 2635)


Started GET "/tasas" for ::1 at 2025-06-27 18:30:03 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 619)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 2379)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.1ms | Allocations: 2629)


Started GET "/productos" for ::1 at 2025-06-27 18:30:04 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 366)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 2369)
Completed 200 OK in 14ms (Views: 13.7ms | ActiveRecord: 0.1ms | Allocations: 2619)


Started GET "/productos" for ::1 at 2025-06-27 18:34:24 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1050)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 3588)
Completed 200 OK in 128ms (Views: 116.4ms | ActiveRecord: 5.9ms | Allocations: 6080)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/productos" for ::1 at 2025-06-27 18:34:48 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 125.5ms | Allocations: 24802)
Completed 200 OK in 200ms (Views: 132.9ms | ActiveRecord: 4.1ms | Allocations: 37458)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-06-27 18:35:35 -0600
  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/productos" for ::1 at 2025-06-27 18:36:41 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 1052)
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 3612)
Completed 200 OK in 92ms (Views: 62.0ms | ActiveRecord: 8.4ms | Allocations: 6102)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/movimientos" for ::1 at 2025-06-27 18:36:47 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 1278)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 3303)
Completed 200 OK in 42ms (Views: 29.0ms | ActiveRecord: 0.5ms | Allocations: 5884)


Started GET "/productos" for ::1 at 2025-06-27 18:36:48 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 373)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 2376)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.1ms | Allocations: 2631)


Started GET "/movimientos" for ::1 at 2025-06-27 18:36:51 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 417)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 2418)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.2ms | Allocations: 2706)


Started GET "/clientes" for ::1 at 2025-06-27 18:36:52 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.4ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 938)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 2712)
Completed 200 OK in 43ms (Views: 28.6ms | ActiveRecord: 0.4ms | Allocations: 4125)


Started GET "/tasas" for ::1 at 2025-06-27 18:36:55 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.4ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 938)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 2712)
Completed 200 OK in 41ms (Views: 30.4ms | ActiveRecord: 0.3ms | Allocations: 4110)


Started GET "/facturas" for ::1 at 2025-06-27 18:36:56 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 3988)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 5765)
Completed 200 OK in 62ms (Views: 61.2ms | ActiveRecord: 0.3ms | Allocations: 6182)


Started GET "/facturas" for ::1 at 2025-06-27 18:37:02 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2240)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 4009)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.4ms | Allocations: 4246)


Started GET "/tasas" for ::1 at 2025-06-27 18:37:03 -0600
Started GET "/clientes" for ::1 at 2025-06-27 18:37:03 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 631)
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 2424)
Completed 200 OK in 52ms (Views: 51.2ms | ActiveRecord: 0.1ms | Allocations: 2677)


Started GET "/movimientos" for ::1 at 2025-06-27 18:37:03 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 629)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 2467)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.2ms | Allocations: 2721)


Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 414)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 2402)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.1ms | Allocations: 2685)


Started GET "/productos" for ::1 at 2025-06-27 18:37:05 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 366)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 2372)
Completed 200 OK in 26ms (Views: 25.9ms | ActiveRecord: 0.1ms | Allocations: 2622)


Started GET "/movimientos" for ::1 at 2025-06-27 18:37:08 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2413)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.1ms | Allocations: 2695)


Started GET "/" for ::1 at 2025-06-27 18:45:57 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 164.3ms | Allocations: 25805)
Completed 200 OK in 224ms (Views: 172.8ms | ActiveRecord: 2.8ms | Allocations: 38461)


  
ActionController::RoutingError (No route matches [GET] "/assets/tailwindcss"):
  
Started GET "/" for ::1 at 2025-06-27 18:47:32 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1052)
  Rendered layout layouts/application.html.erb (Duration: 135.7ms | Allocations: 5189)
Completed 200 OK in 287ms (Views: 258.2ms | ActiveRecord: 6.0ms | Allocations: 7682)


Started GET "/tasas" for ::1 at 2025-06-27 18:47:35 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 946)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 2721)
Completed 200 OK in 34ms (Views: 22.9ms | ActiveRecord: 0.2ms | Allocations: 4114)


Started GET "/movimientos" for ::1 at 2025-06-27 18:47:36 -0600
Started GET "/productos" for ::1 at 2025-06-27 18:47:36 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 22.1ms | Allocations: 1370)
  Rendered layout layouts/application.html.erb (Duration: 80.1ms | Allocations: 3454)
Completed 200 OK in 153ms (Views: 97.0ms | ActiveRecord: 0.8ms | Allocations: 6137)


Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 373)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 2394)
Completed 200 OK in 17ms (Views: 16.5ms | ActiveRecord: 0.1ms | Allocations: 2651)


Started GET "/facturas" for ::1 at 2025-06-27 18:47:36 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.5ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 47.9ms | Allocations: 4955)
  Rendered layout layouts/application.html.erb (Duration: 61.1ms | Allocations: 6728)
Completed 200 OK in 72ms (Views: 70.7ms | ActiveRecord: 0.6ms | Allocations: 7146)


Started GET "/" for ::1 at 2025-06-27 18:49:45 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 1320)
  Rendered layout layouts/application.html.erb (Duration: 263.1ms | Allocations: 30106)
Completed 200 OK in 424ms (Views: 361.3ms | ActiveRecord: 8.8ms | Allocations: 42760)


Started GET "/tasas" for ::1 at 2025-06-27 18:49:52 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.4ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 944)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 2723)
Completed 200 OK in 55ms (Views: 32.1ms | ActiveRecord: 0.4ms | Allocations: 4121)


Started GET "/clientes" for ::1 at 2025-06-27 18:49:55 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 921)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 2694)
Completed 200 OK in 50ms (Views: 34.2ms | ActiveRecord: 0.3ms | Allocations: 4112)


Started GET "/movimientos" for ::1 at 2025-06-27 18:49:55 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 1278)
  Rendered layout layouts/application.html.erb (Duration: 40.3ms | Allocations: 3281)
Completed 200 OK in 69ms (Views: 44.9ms | ActiveRecord: 0.5ms | Allocations: 5846)


Started GET "/productos" for ::1 at 2025-06-27 18:49:56 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 367)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 2353)
Completed 200 OK in 23ms (Views: 22.6ms | ActiveRecord: 0.1ms | Allocations: 2604)


Started GET "/movimientos" for ::1 at 2025-06-27 18:49:58 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 417)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 2398)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.1ms | Allocations: 2688)


Started GET "/clientes" for ::1 at 2025-06-27 18:49:59 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.5ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 629)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 2370)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.4ms | Allocations: 2627)


Started GET "/tasas" for ::1 at 2025-06-27 18:50:00 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 632)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2372)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.1ms | Allocations: 2623)


Started GET "/facturas" for ::1 at 2025-06-27 18:50:02 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 26.1ms | Allocations: 3988)
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 5741)
Completed 200 OK in 58ms (Views: 56.5ms | ActiveRecord: 0.4ms | Allocations: 6158)


Started GET "/movimientos" for ::1 at 2025-06-27 18:50:02 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 2399)
Completed 200 OK in 29ms (Views: 28.3ms | ActiveRecord: 0.2ms | Allocations: 2681)


Started GET "/productos" for ::1 at 2025-06-27 18:50:02 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:14
  Rendered productos/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 366)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 2340)
Completed 200 OK in 34ms (Views: 33.4ms | ActiveRecord: 0.1ms | Allocations: 2590)


Started GET "/productos" for ::1 at 2025-06-27 18:54:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 1130)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | Allocations: 3562)
Completed 200 OK in 126ms (Views: 37.7ms | ActiveRecord: 7.6ms | Allocations: 6041)


Started GET "/productos/new" for ::1 at 2025-06-27 18:54:55 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 17.4ms | Allocations: 2452)
  Rendered productos/new.html.erb within layouts/application (Duration: 20.5ms | Allocations: 2773)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 4542)
Completed 200 OK in 60ms (Views: 30.3ms | ActiveRecord: 0.3ms | Allocations: 10528)


Started GET "/productos" for ::1 at 2025-06-27 18:55:34 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 402)
  Rendered layout layouts/application.html.erb (Duration: 134.1ms | Allocations: 3821)
Completed 200 OK in 136ms (Views: 135.3ms | ActiveRecord: 0.1ms | Allocations: 4071)


Started GET "/productos/new" for ::1 at 2025-06-27 18:55:35 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.3ms | Allocations: 951)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1030)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2777)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms | Allocations: 3030)


Started GET "/productos/new" for ::1 at 2025-06-27 18:55:36 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.4ms | Allocations: 951)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1030)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2777)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 3030)


Started GET "/tasas" for ::1 at 2025-06-27 18:55:40 -0600
Processing by TasasController#index as HTML
Started GET "/clientes" for ::1 at 2025-06-27 18:55:41 -0600
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.3ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 940)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 2723)
Completed 200 OK in 146ms (Views: 71.1ms | ActiveRecord: 0.3ms | Allocations: 4596)


Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 941)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 2698)
Completed 200 OK in 64ms (Views: 43.0ms | ActiveRecord: 0.3ms | Allocations: 4102)


Started GET "/movimientos" for ::1 at 2025-06-27 18:55:42 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.6ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 719)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 2722)
Completed 200 OK in 72ms (Views: 55.5ms | ActiveRecord: 1.0ms | Allocations: 4522)


Started GET "/tasas" for ::1 at 2025-06-27 18:55:43 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.2ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 632)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 2372)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.2ms | Allocations: 2624)


Started GET "/facturas" for ::1 at 2025-06-27 18:55:43 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.5ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3367)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 5119)
Completed 200 OK in 54ms (Views: 52.4ms | ActiveRecord: 0.6ms | Allocations: 5500)


Started GET "/productos" for ::1 at 2025-06-27 18:55:44 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 2358)
Completed 200 OK in 32ms (Views: 31.5ms | ActiveRecord: 0.2ms | Allocations: 2608)


Started GET "/productos" for ::1 at 2025-06-27 19:02:12 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (7.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 1085)
  Rendered layout layouts/application.html.erb (Duration: 64.9ms | Allocations: 3542)
Completed 200 OK in 157ms (Views: 79.1ms | ActiveRecord: 12.8ms | Allocations: 5789)


Started GET "/productos/new" for ::1 at 2025-06-27 19:02:14 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1520)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 1605)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.0ms | Allocations: 4443)


  
ActionView::Template::Error (undefined local variable or method `producto' for #<ActionView::Base:0x0000000001a888>):
    1: <h1 class="text-2xl font-bold mb-6">
    2:   <%= producto.new_record? ? "Nuevo Producto" : "Editar Producto" %>
    3: </h1>
    4: 
    5: <%= render "form", producto: @producto %>
  
app/views/productos/new.html.erb:2
Started GET "/productos/new" for ::1 at 2025-06-27 19:03:25 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.0ms | Allocations: 1426)
  Rendered productos/new.html.erb within layouts/application (Duration: 153.4ms | Allocations: 1692)
  Rendered layout layouts/application.html.erb (Duration: 166.3ms | Allocations: 3910)
Completed 200 OK in 238ms (Views: 180.5ms | ActiveRecord: 3.0ms | Allocations: 9190)


Started GET "/productos" for ::1 at 2025-06-27 19:03:29 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 805)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 2777)
Completed 200 OK in 26ms (Views: 21.8ms | ActiveRecord: 0.3ms | Allocations: 3152)


Started GET "/productos/new" for ::1 at 2025-06-27 19:03:31 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.5ms | Allocations: 891)
  Rendered productos/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 956)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 2703)
Completed 200 OK in 28ms (Views: 27.2ms | ActiveRecord: 0.0ms | Allocations: 2956)


Started GET "/productos" for ::1 at 2025-06-27 19:03:32 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2373)
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.1ms | Allocations: 2623)


Started GET "/productos" for ::1 at 2025-06-27 19:03:35 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 2367)
Completed 200 OK in 29ms (Views: 28.5ms | ActiveRecord: 0.2ms | Allocations: 2617)


Started GET "/productos" for ::1 at 2025-06-27 19:03:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 2370)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 2620)


Started GET "/movimientos" for ::1 at 2025-06-27 19:04:02 -0600
Started GET "/productos/new" for ::1 at 2025-06-27 19:04:03 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.0ms | Allocations: 906)
  Rendered productos/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 976)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | Allocations: 2923)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.0ms | Allocations: 3186)


Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 719)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 2746)
Completed 200 OK in 152ms (Views: 62.0ms | ActiveRecord: 0.9ms | Allocations: 4687)


Started POST "/productos" for ::1 at 2025-06-27 19:04:13 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15", "stock"=>"50"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (4.7ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Sandalias X pro max"], ["precio", 15.0], ["stock", 50], ["created_at", "2025-06-28 01:04:14.008415"], ["updated_at", "2025-06-28 01:04:14.008415"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (0.8ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 50], ["tipo", "entrada"], ["nota", "Stock inicial"], ["created_at", "2025-06-28 01:04:14.463890"], ["updated_at", "2025-06-28 01:04:14.463890"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 50], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 480ms (ActiveRecord: 17.0ms | Allocations: 19098)


Started GET "/productos" for ::1 at 2025-06-27 19:04:14 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 224.3ms | Allocations: 2807)
  Rendered layout layouts/application.html.erb (Duration: 249.8ms | Allocations: 4823)
Completed 200 OK in 253ms (Views: 252.3ms | ActiveRecord: 0.1ms | Allocations: 5113)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:18 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.2ms | Allocations: 928)
  Rendered productos/edit.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1126)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 2869)
Completed 200 OK in 48ms (Views: 33.7ms | ActiveRecord: 0.3ms | Allocations: 4603)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:18 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.0ms | Allocations: 940)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 2748)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 0.2ms | Allocations: 3340)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:21 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.5ms | Allocations: 945)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1010)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 2753)
Completed 200 OK in 33ms (Views: 29.6ms | ActiveRecord: 0.2ms | Allocations: 3344)


Started GET "/movimientos" for ::1 at 2025-06-27 19:04:23 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 115.9ms | Allocations: 3231)
  Rendered layout layouts/application.html.erb (Duration: 140.5ms | Allocations: 5221)
Completed 200 OK in 144ms (Views: 142.5ms | ActiveRecord: 0.5ms | Allocations: 5503)


Started GET "/productos" for ::1 at 2025-06-27 19:04:27 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 2557)
Completed 200 OK in 36ms (Views: 35.3ms | ActiveRecord: 0.2ms | Allocations: 2807)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:28 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.4ms | Allocations: 931)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 2739)
Completed 200 OK in 35ms (Views: 31.5ms | ActiveRecord: 0.2ms | Allocations: 3330)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:04:35 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.8ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["updated_at", "2025-06-28 01:04:35.921764"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 35ms (ActiveRecord: 4.2ms | Allocations: 3480)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/models/producto.rb:19:in `block in ajustar_stock!'
app/models/producto.rb:18:in `ajustar_stock!'
app/controllers/productos_controller.rb:39:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:36 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 22.6ms | Allocations: 940)
  Rendered productos/edit.html.erb within layouts/application (Duration: 24.6ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 63.1ms | Allocations: 2770)
Completed 200 OK in 75ms (Views: 65.8ms | ActiveRecord: 0.2ms | Allocations: 3361)


Started GET "/productos" for ::1 at 2025-06-27 19:04:39 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2582)
Completed 200 OK in 27ms (Views: 26.5ms | ActiveRecord: 0.1ms | Allocations: 2832)


Started GET "/tasas" for ::1 at 2025-06-27 19:04:41 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.3ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 928)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 2700)
Completed 200 OK in 47ms (Views: 35.3ms | ActiveRecord: 0.3ms | Allocations: 4099)


Started GET "/clientes" for ::1 at 2025-06-27 19:04:42 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 936)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 2690)
Completed 200 OK in 54ms (Views: 39.6ms | ActiveRecord: 0.3ms | Allocations: 4093)


Started GET "/movimientos" for ::1 at 2025-06-27 19:04:43 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1163)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 3146)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.2ms | Allocations: 3429)


Started GET "/productos" for ::1 at 2025-06-27 19:04:46 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 2563)
Completed 200 OK in 26ms (Views: 25.1ms | ActiveRecord: 0.1ms | Allocations: 2813)


Started GET "/movimientos" for ::1 at 2025-06-27 19:04:47 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 1154)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 3152)
Completed 200 OK in 37ms (Views: 35.0ms | ActiveRecord: 0.3ms | Allocations: 3434)


Started GET "/productos" for ::1 at 2025-06-27 19:04:48 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 2574)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.1ms | Allocations: 2824)


Started GET "/movimientos" for ::1 at 2025-06-27 19:04:49 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 1154)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 3152)
Completed 200 OK in 35ms (Views: 32.5ms | ActiveRecord: 1.1ms | Allocations: 3434)


Started GET "/productos" for ::1 at 2025-06-27 19:04:49 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 2571)
Completed 200 OK in 26ms (Views: 25.2ms | ActiveRecord: 0.1ms | Allocations: 2821)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:50 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.4ms | Allocations: 928)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.8ms | Allocations: 993)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2736)
Completed 200 OK in 31ms (Views: 26.7ms | ActiveRecord: 0.2ms | Allocations: 3327)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:04:53 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"3"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.7ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 3], ["updated_at", "2025-06-28 01:04:53.639830"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (7.3ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 2], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:04:53.659273"], ["updated_at", "2025-06-28 01:04:53.659273"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) - ? WHERE "productos"."id" = ?[0m  [["stock", 2], ["id", 1]]
  â†³ app/models/movimiento.rb:23:in `actualizar_stock'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 51ms (ActiveRecord: 14.0ms | Allocations: 5177)


Started GET "/productos" for ::1 at 2025-06-27 19:04:53 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 2575)
Completed 200 OK in 39ms (Views: 38.2ms | ActiveRecord: 0.1ms | Allocations: 2828)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:04:57 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.5ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.1ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 2742)
Completed 200 OK in 30ms (Views: 26.7ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:05:03 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["updated_at", "2025-06-28 01:05:03.700352"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (4.0ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 4], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:05:03.712742"], ["updated_at", "2025-06-28 01:05:03.712742"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 4], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 42ms (ActiveRecord: 8.5ms | Allocations: 4515)


Started GET "/productos" for ::1 at 2025-06-27 19:05:03 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 2602)
Completed 200 OK in 31ms (Views: 30.7ms | ActiveRecord: 0.1ms | Allocations: 2855)


Started GET "/movimientos" for ::1 at 2025-06-27 19:05:05 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 1334)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 3335)
Completed 200 OK in 44ms (Views: 41.8ms | ActiveRecord: 0.3ms | Allocations: 3617)


Started GET "/productos" for ::1 at 2025-06-27 19:05:14 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 2592)
Completed 200 OK in 35ms (Views: 34.8ms | ActiveRecord: 0.2ms | Allocations: 2842)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:05:16 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.8ms | Allocations: 931)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.6ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 2739)
Completed 200 OK in 32ms (Views: 28.0ms | ActiveRecord: 0.2ms | Allocations: 3330)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:05:22 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.1ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["updated_at", "2025-06-28 01:05:22.286428"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (4.6ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 4], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:05:22.305175"], ["updated_at", "2025-06-28 01:05:22.305175"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) - ? WHERE "productos"."id" = ?[0m  [["stock", 4], ["id", 1]]
  â†³ app/models/movimiento.rb:23:in `actualizar_stock'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 49ms (ActiveRecord: 9.0ms | Allocations: 4531)


Started GET "/productos" for ::1 at 2025-06-27 19:05:22 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 589)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 2595)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.1ms | Allocations: 2848)


Started GET "/movimientos" for ::1 at 2025-06-27 19:05:23 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 1424)
  Rendered layout layouts/application.html.erb (Duration: 44.0ms | Allocations: 3390)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.3ms | Allocations: 3672)


Started GET "/productos" for ::1 at 2025-06-27 19:05:25 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 2545)
Completed 200 OK in 23ms (Views: 22.8ms | ActiveRecord: 0.2ms | Allocations: 2795)


Started GET "/movimientos" for ::1 at 2025-06-27 19:05:26 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 1424)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 3411)
Completed 200 OK in 35ms (Views: 33.6ms | ActiveRecord: 0.3ms | Allocations: 3693)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:05:31 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.9ms | Allocations: 925)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 990)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 2733)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 0.2ms | Allocations: 3324)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:05:40 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"10"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.0ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 10], ["updated_at", "2025-06-28 01:05:40.320956"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (6.6ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 9], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:05:40.334863"], ["updated_at", "2025-06-28 01:05:40.334863"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 9], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 55ms (ActiveRecord: 10.5ms | Allocations: 4505)


Started GET "/productos" for ::1 at 2025-06-27 19:05:40 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 2572)
Completed 200 OK in 35ms (Views: 34.6ms | ActiveRecord: 0.1ms | Allocations: 2825)


Started GET "/clientes" for ::1 at 2025-06-27 19:05:43 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 634)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 2374)
Completed 200 OK in 21ms (Views: 20.5ms | ActiveRecord: 0.1ms | Allocations: 2624)


Started GET "/movimientos" for ::1 at 2025-06-27 19:05:46 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 36.5ms | Allocations: 3498)
Completed 200 OK in 39ms (Views: 38.5ms | ActiveRecord: 0.3ms | Allocations: 3780)


Started GET "/productos" for ::1 at 2025-06-27 19:05:47 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 2567)
Completed 200 OK in 25ms (Views: 24.9ms | ActiveRecord: 0.2ms | Allocations: 2817)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:05:49 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.3ms | Allocations: 919)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 984)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 2728)
Completed 200 OK in 28ms (Views: 23.9ms | ActiveRecord: 0.2ms | Allocations: 3319)


Started GET "/productos/new" for ::1 at 2025-06-27 19:07:05 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.3ms | Allocations: 914)
  Rendered productos/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 979)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 2743)
Completed 200 OK in 33ms (Views: 32.8ms | ActiveRecord: 0.0ms | Allocations: 2996)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:05 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.1ms | Allocations: 946)
  Rendered productos/edit.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1011)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 2754)
Completed 200 OK in 40ms (Views: 34.6ms | ActiveRecord: 0.2ms | Allocations: 3345)


Started GET "/productos" for ::1 at 2025-06-27 19:07:06 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 2563)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.2ms | Allocations: 2813)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:07:09 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (6.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["updated_at", "2025-06-28 01:07:09.506495"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 29ms (ActiveRecord: 6.6ms | Allocations: 3221)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/models/producto.rb:19:in `block in ajustar_stock!'
app/models/producto.rb:18:in `ajustar_stock!'
app/controllers/productos_controller.rb:39:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:10 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.6ms | Allocations: 919)
  Rendered productos/edit.html.erb within layouts/application (Duration: 7.3ms | Allocations: 984)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 2749)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.2ms | Allocations: 3340)


Started GET "/productos" for ::1 at 2025-06-27 19:07:12 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 2548)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.1ms | Allocations: 2798)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:14 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 3494)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.2ms | Allocations: 3776)


Started GET "/clientes" for ::1 at 2025-06-27 19:07:14 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 619)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 2359)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.1ms | Allocations: 2609)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:19 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 3488)
Completed 200 OK in 45ms (Views: 43.4ms | ActiveRecord: 0.5ms | Allocations: 3770)


Started GET "/productos" for ::1 at 2025-06-27 19:07:20 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 2557)
Completed 200 OK in 28ms (Views: 27.9ms | ActiveRecord: 0.1ms | Allocations: 2807)


Started GET "/productos/new" for ::1 at 2025-06-27 19:07:21 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.7ms | Allocations: 903)
  Rendered productos/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 968)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 2737)
Completed 200 OK in 33ms (Views: 31.9ms | ActiveRecord: 0.0ms | Allocations: 2990)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:22 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 8.1ms | Allocations: 919)
  Rendered productos/edit.html.erb within layouts/application (Duration: 9.6ms | Allocations: 984)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 2745)
Completed 200 OK in 54ms (Views: 49.5ms | ActiveRecord: 0.2ms | Allocations: 3336)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:07:26 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"2"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (4.0ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 2], ["updated_at", "2025-06-28 01:07:26.870160"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 29ms (ActiveRecord: 4.8ms | Allocations: 3219)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/models/producto.rb:19:in `block in ajustar_stock!'
app/models/producto.rb:18:in `ajustar_stock!'
app/controllers/productos_controller.rb:39:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:28 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.1ms | Allocations: 922)
  Rendered productos/edit.html.erb within layouts/application (Duration: 8.3ms | Allocations: 987)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 2752)
Completed 200 OK in 43ms (Views: 38.3ms | ActiveRecord: 0.3ms | Allocations: 3343)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:29 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 3509)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.3ms | Allocations: 3791)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:29 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 3488)
Completed 200 OK in 43ms (Views: 41.6ms | ActiveRecord: 0.3ms | Allocations: 3770)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:30 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 3509)
Completed 200 OK in 35ms (Views: 33.9ms | ActiveRecord: 0.3ms | Allocations: 3791)


Started GET "/productos" for ::1 at 2025-06-27 19:07:30 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 2551)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.1ms | Allocations: 2801)


Started GET "/clientes" for ::1 at 2025-06-27 19:07:32 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 628)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 2368)
Completed 200 OK in 32ms (Views: 31.4ms | ActiveRecord: 0.2ms | Allocations: 2618)


Started GET "/movimientos" for ::1 at 2025-06-27 19:07:32 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 1513)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 3503)
Completed 200 OK in 33ms (Views: 31.9ms | ActiveRecord: 0.3ms | Allocations: 3785)


Started GET "/productos" for ::1 at 2025-06-27 19:07:41 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 2582)
Completed 200 OK in 32ms (Views: 31.5ms | ActiveRecord: 0.2ms | Allocations: 2832)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:43 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.4ms | Allocations: 931)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.8ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 2757)
Completed 200 OK in 34ms (Views: 30.4ms | ActiveRecord: 0.2ms | Allocations: 3348)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:07:51 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"80"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 80], ["updated_at", "2025-06-28 01:07:51.938075"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (4.5ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 78], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:07:51.953163"], ["updated_at", "2025-06-28 01:07:51.953163"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.5ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 78], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 48ms (ActiveRecord: 9.5ms | Allocations: 4527)


Started GET "/productos" for ::1 at 2025-06-27 19:07:52 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 2604)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.1ms | Allocations: 2857)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:07:57 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.5ms | Allocations: 910)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 975)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 2718)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 0.2ms | Allocations: 3309)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:08:01 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (4.1ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["updated_at", "2025-06-28 01:08:02.019036"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 22ms (ActiveRecord: 4.7ms | Allocations: 3231)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/models/producto.rb:19:in `block in ajustar_stock!'
app/models/producto.rb:18:in `ajustar_stock!'
app/controllers/productos_controller.rb:39:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:08:02 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.5ms | Allocations: 937)
  Rendered productos/edit.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1002)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 2767)
Completed 200 OK in 38ms (Views: 34.3ms | ActiveRecord: 0.2ms | Allocations: 3358)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:08:04 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"5"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
Redirected to http://localhost:3000/productos
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 915)


Started GET "/productos" for ::1 at 2025-06-27 19:08:04 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 2571)
Completed 200 OK in 24ms (Views: 23.7ms | ActiveRecord: 0.1ms | Allocations: 2824)


Started GET "/tasas" for ::1 at 2025-06-27 19:08:06 -0600
Started GET "/clientes" for ::1 at 2025-06-27 19:08:06 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 640)
  Rendered layout layouts/application.html.erb (Duration: 43.8ms | Allocations: 2410)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.1ms | Allocations: 2664)


Started GET "/movimientos" for ::1 at 2025-06-27 19:08:06 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 641)
  Rendered layout layouts/application.html.erb (Duration: 44.2ms | Allocations: 2466)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.1ms | Allocations: 2720)


Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 1602)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 3592)
Completed 200 OK in 34ms (Views: 33.2ms | ActiveRecord: 0.3ms | Allocations: 3874)


Started GET "/movimientos" for ::1 at 2025-06-27 19:10:52 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 19.6ms | Allocations: 9338)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 11823)
Completed 200 OK in 51ms (Views: 35.5ms | ActiveRecord: 3.8ms | Allocations: 14615)


Started GET "/productos" for ::1 at 2025-06-27 19:10:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 979)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 2982)
Completed 200 OK in 60ms (Views: 53.7ms | ActiveRecord: 0.3ms | Allocations: 3517)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:10:55 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.3ms | Allocations: 1392)
  Rendered productos/edit.html.erb within layouts/application (Duration: 13.3ms | Allocations: 1651)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 3394)
Completed 200 OK in 51ms (Views: 40.7ms | ActiveRecord: 0.3ms | Allocations: 4661)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:10:58 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.2ms | Allocations: 931)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.9ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 2739)
Completed 200 OK in 33ms (Views: 28.7ms | ActiveRecord: 0.2ms | Allocations: 3330)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:11:02 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"100"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mProducto Update (12.1ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 100], ["updated_at", "2025-06-28 01:11:02.736467"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (4.6ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 95], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:11:02.769754"], ["updated_at", "2025-06-28 01:11:02.769754"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 95], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 60ms (ActiveRecord: 22.3ms | Allocations: 5612)


Started GET "/productos" for ::1 at 2025-06-27 19:11:02 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 2592)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.1ms | Allocations: 2882)


Started GET "/clientes" for ::1 at 2025-06-27 19:11:05 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 913)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 2667)
Completed 200 OK in 53ms (Views: 38.1ms | ActiveRecord: 0.3ms | Allocations: 4062)


Started GET "/movimientos" for ::1 at 2025-06-27 19:11:05 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 1700)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | Allocations: 3675)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.4ms | Allocations: 3958)


Started GET "/productos" for ::1 at 2025-06-27 19:11:17 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 2557)
Completed 200 OK in 37ms (Views: 36.8ms | ActiveRecord: 0.1ms | Allocations: 2807)


Started GET "/productos" for ::1 at 2025-06-27 19:11:19 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.7ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 58.2ms | Allocations: 2560)
Completed 200 OK in 61ms (Views: 60.5ms | ActiveRecord: 0.5ms | Allocations: 2810)


Started GET "/productos" for ::1 at 2025-06-27 19:11:28 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 2582)
Completed 200 OK in 34ms (Views: 33.7ms | ActiveRecord: 0.1ms | Allocations: 2833)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:11:30 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.8ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 2742)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:11:34 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"200"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mProducto Update (5.0ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 200], ["updated_at", "2025-06-28 01:11:34.898288"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (6.9ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 5], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:11:34.918358"], ["updated_at", "2025-06-28 01:11:34.918358"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 51ms (ActiveRecord: 13.1ms | Allocations: 4510)


Started GET "/productos" for ::1 at 2025-06-27 19:11:34 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 2620)
Completed 200 OK in 34ms (Views: 33.1ms | ActiveRecord: 0.1ms | Allocations: 2873)


Started GET "/movimientos" for ::1 at 2025-06-27 19:11:35 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 1780)
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 3770)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.3ms | Allocations: 4052)


Started GET "/productos" for ::1 at 2025-06-27 19:11:39 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 2552)
Completed 200 OK in 35ms (Views: 34.2ms | ActiveRecord: 0.1ms | Allocations: 2802)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:11:44 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.9ms | Allocations: 948)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1013)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 2756)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.2ms | Allocations: 3347)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:11:52 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"210"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mProducto Update (6.5ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 210], ["updated_at", "2025-06-28 01:11:52.836072"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (4.5ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 5], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:11:52.854338"], ["updated_at", "2025-06-28 01:11:52.854338"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.4ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 76ms (ActiveRecord: 12.8ms | Allocations: 4522)


Started GET "/productos" for ::1 at 2025-06-27 19:11:52 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 2582)
Completed 200 OK in 36ms (Views: 35.0ms | ActiveRecord: 0.2ms | Allocations: 2835)


Started GET "/movimientos" for ::1 at 2025-06-27 19:11:53 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | Allocations: 3835)
Completed 200 OK in 48ms (Views: 46.9ms | ActiveRecord: 0.5ms | Allocations: 4117)


Started GET "/productos" for ::1 at 2025-06-27 19:11:57 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 2560)
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.4ms | Allocations: 2810)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:11:59 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.0ms | Allocations: 937)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1002)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 2745)
Completed 200 OK in 41ms (Views: 38.2ms | ActiveRecord: 0.2ms | Allocations: 3336)


Started GET "/productos" for ::1 at 2025-06-27 19:12:00 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 2570)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.1ms | Allocations: 2820)


Started GET "/productos" for ::1 at 2025-06-27 19:12:03 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 2563)
Completed 200 OK in 25ms (Views: 24.7ms | ActiveRecord: 0.1ms | Allocations: 2813)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:12:05 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.9ms | Allocations: 922)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 987)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | Allocations: 2752)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.2ms | Allocations: 3343)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:12:11 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"220"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mProducto Update (3.2ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 220], ["updated_at", "2025-06-28 01:12:11.405131"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (8.2ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 5], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:12:11.423848"], ["updated_at", "2025-06-28 01:12:11.423848"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mProducto Update All (0.9ms)[0m  [1m[33mUPDATE "productos" SET "stock" = COALESCE("stock", 0) + ? WHERE "productos"."id" = ?[0m  [["stock", 5], ["id", 1]]
  â†³ app/models/movimiento.rb:21:in `actualizar_stock'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 54ms (ActiveRecord: 13.2ms | Allocations: 4517)


Started GET "/productos" for ::1 at 2025-06-27 19:12:11 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 2595)
Completed 200 OK in 32ms (Views: 31.1ms | ActiveRecord: 0.2ms | Allocations: 2848)


Started GET "/clientes" for ::1 at 2025-06-27 19:12:12 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 610)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 2351)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.1ms | Allocations: 2601)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-06-27 19:12:24 -0600
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:16:30 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:56:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.9ms | Allocations: 1454)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1717)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3930)
Completed 200 OK in 35ms (Views: 20.5ms | ActiveRecord: 3.6ms | Allocations: 10195)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:17:37 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.7ms | Allocations: 1457)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1724)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 3937)
Completed 200 OK in 49ms (Views: 22.9ms | ActiveRecord: 5.4ms | Allocations: 10153)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:17:44 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"300"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.1ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 300], ["updated_at", "2025-06-28 01:17:44.634625"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (3.8ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 75], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:17:44.718450"], ["updated_at", "2025-06-28 01:17:44.718450"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 104ms (ActiveRecord: 15.2ms | Allocations: 9652)


Started GET "/productos" for ::1 at 2025-06-27 19:17:44 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 986)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | Allocations: 2966)
Completed 200 OK in 41ms (Views: 35.8ms | ActiveRecord: 0.3ms | Allocations: 3344)


Started GET "/movimientos" for ::1 at 2025-06-27 19:17:46 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.4ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 2501)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 4514)
Completed 200 OK in 71ms (Views: 65.1ms | ActiveRecord: 0.6ms | Allocations: 5088)


Started GET "/productos" for ::1 at 2025-06-27 19:17:51 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2572)
Completed 200 OK in 27ms (Views: 26.5ms | ActiveRecord: 0.2ms | Allocations: 2822)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:17:53 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.6ms | Allocations: 943)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1008)
  Rendered layout layouts/application.html.erb (Duration: 59.2ms | Allocations: 2752)
Completed 200 OK in 65ms (Views: 61.3ms | ActiveRecord: 0.2ms | Allocations: 3343)


Started GET "/productos" for ::1 at 2025-06-27 19:17:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 59.4ms | Allocations: 2560)
Completed 200 OK in 62ms (Views: 61.3ms | ActiveRecord: 0.2ms | Allocations: 2810)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:17:57 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"250"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (7.5ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 250], ["updated_at", "2025-06-28 01:17:57.466821"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (7.3ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 50], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:17:57.489159"], ["updated_at", "2025-06-28 01:17:57.489159"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 52ms (ActiveRecord: 15.8ms | Allocations: 4179)


Started GET "/productos" for ::1 at 2025-06-27 19:17:57 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | Allocations: 2586)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 0.1ms | Allocations: 2839)


Started GET "/movimientos" for ::1 at 2025-06-27 19:17:59 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (1.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 2142)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 4143)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 1.4ms | Allocations: 4425)


Started GET "/productos" for ::1 at 2025-06-27 19:18:36 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 2539)
Completed 200 OK in 36ms (Views: 35.2ms | ActiveRecord: 0.1ms | Allocations: 2789)


Started GET "/productos/new" for ::1 at 2025-06-27 19:18:37 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.2ms | Allocations: 907)
  Rendered productos/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1104)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 2851)
Completed 200 OK in 38ms (Views: 34.8ms | ActiveRecord: 0.0ms | Allocations: 3174)


Started POST "/productos" for ::1 at 2025-06-27 19:18:40 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"", "precio"=>"", "stock"=>""}, "commit"=>"Crear Producto"}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 8.0ms | Allocations: 3051)
  Rendered productos/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3159)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 4903)
Completed 422 Unprocessable Content in 32ms (Views: 30.1ms | ActiveRecord: 0.0ms | Allocations: 6802)


Started POST "/productos" for ::1 at 2025-06-27 19:19:00 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"-1243", "stock"=>""}, "commit"=>"Crear Producto"}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.5ms | Allocations: 2231)
  Rendered productos/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2300)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 4043)
Completed 422 Unprocessable Content in 32ms (Views: 29.2ms | ActiveRecord: 0.0ms | Allocations: 5551)


Started GET "/productos" for ::1 at 2025-06-27 19:19:10 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 2548)
Completed 200 OK in 27ms (Views: 26.6ms | ActiveRecord: 0.1ms | Allocations: 2798)


Started GET "/productos" for ::1 at 2025-06-27 19:19:19 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 2563)
Completed 200 OK in 31ms (Views: 29.6ms | ActiveRecord: 0.1ms | Allocations: 2813)


Started POST "/productos" for ::1 at 2025-06-27 19:19:19 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750", "stock"=>""}, "commit"=>"Crear Producto"}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.9ms | Allocations: 1416)
  Rendered productos/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1485)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 3228)
Completed 422 Unprocessable Content in 37ms (Views: 34.2ms | ActiveRecord: 0.0ms | Allocations: 4704)


Started GET "/productos" for ::1 at 2025-06-27 19:19:20 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 588)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 2567)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.1ms | Allocations: 2817)


Started POST "/productos" for ::1 at 2025-06-27 19:19:26 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750", "stock"=>"-12"}, "commit"=>"Crear Producto"}
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.9ms | Allocations: 1458)
  Rendered productos/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 3270)
Completed 422 Unprocessable Content in 33ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 4370)


Started POST "/productos" for ::1 at 2025-06-27 19:19:33 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750", "stock"=>"10"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (6.2ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Computador HP"], ["precio", 2750.0], ["stock", 10], ["created_at", "2025-06-28 01:19:33.352086"], ["updated_at", "2025-06-28 01:19:33.352086"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mMovimiento Create (5.2ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 2], ["cantidad", 10], ["tipo", "entrada"], ["nota", "Stock inicial"], ["created_at", "2025-06-28 01:19:33.374079"], ["updated_at", "2025-06-28 01:19:33.374079"]]
  â†³ app/models/producto.rb:19:in `block in ajustar_stock!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/producto.rb:18:in `ajustar_stock!'
Redirected to http://localhost:3000/productos
Completed 302 Found in 45ms (ActiveRecord: 12.3ms | Allocations: 3770)


Started GET "/productos" for ::1 at 2025-06-27 19:19:33 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 2798)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.2ms | Allocations: 3051)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:19:35 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.7ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 7.6ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 2754)
Completed 200 OK in 39ms (Views: 35.3ms | ActiveRecord: 0.2ms | Allocations: 3345)


Started GET "/productos" for ::1 at 2025-06-27 19:19:38 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 2758)
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.2ms | Allocations: 3008)


Started PATCH "/productos/2" for ::1 at 2025-06-27 19:19:39 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750.0", "stock"=>"3"}, "commit"=>"Actualizar Producto", "id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (6.4ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 3], ["updated_at", "2025-06-28 01:19:39.581765"], ["id", 2]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 27ms (ActiveRecord: 7.0ms | Allocations: 3227)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/controllers/productos_controller.rb:46:in `update'
Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:19:40 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.1ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 2764)
Completed 200 OK in 37ms (Views: 32.7ms | ActiveRecord: 0.2ms | Allocations: 3355)


Started PATCH "/productos/2" for ::1 at 2025-06-27 19:19:45 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750.0", "stock"=>"3"}, "commit"=>"Actualizar Producto", "id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
Redirected to http://localhost:3000/productos
Completed 302 Found in 9ms (ActiveRecord: 0.2ms | Allocations: 931)


Started GET "/productos" for ::1 at 2025-06-27 19:19:45 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 2789)
Completed 200 OK in 34ms (Views: 33.7ms | ActiveRecord: 0.1ms | Allocations: 3042)


Started GET "/movimientos" for ::1 at 2025-06-27 19:19:50 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2305)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 4304)
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.6ms | Allocations: 4586)


Started GET "/productos" for ::1 at 2025-06-27 19:19:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 2738)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.2ms | Allocations: 2988)


Started GET "/movimientos" for ::1 at 2025-06-27 19:19:56 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 2274)
  Rendered layout layouts/application.html.erb (Duration: 47.0ms | Allocations: 4267)
Completed 200 OK in 51ms (Views: 48.8ms | ActiveRecord: 0.7ms | Allocations: 4549)


Started GET "/productos" for ::1 at 2025-06-27 19:19:57 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 2732)
Completed 200 OK in 28ms (Views: 27.1ms | ActiveRecord: 0.2ms | Allocations: 2982)


Started GET "/movimientos" for ::1 at 2025-06-27 19:19:59 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 2274)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 4276)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.5ms | Allocations: 4558)


Started GET "/productos" for ::1 at 2025-06-27 19:19:59 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | Allocations: 2753)
Completed 200 OK in 32ms (Views: 31.7ms | ActiveRecord: 0.1ms | Allocations: 3003)


Started GET "/movimientos" for ::1 at 2025-06-27 19:20:01 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2274)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 4261)
Completed 200 OK in 37ms (Views: 35.5ms | ActiveRecord: 0.4ms | Allocations: 4543)


Started GET "/productos" for ::1 at 2025-06-27 19:20:02 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 2753)
Completed 200 OK in 31ms (Views: 30.5ms | ActiveRecord: 0.1ms | Allocations: 3003)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:20:03 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.4ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 2742)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:20:03 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.0ms | Allocations: 963)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1028)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 2771)
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 0.2ms | Allocations: 3362)


Started PATCH "/productos/2" for ::1 at 2025-06-27 19:20:07 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Computador HP", "precio"=>"2750.0", "stock"=>"1"}, "commit"=>"Actualizar Producto", "id"=>"2"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (12.5ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 1], ["updated_at", "2025-06-28 01:20:07.231516"], ["id", 2]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 35ms (ActiveRecord: 13.2ms | Allocations: 3170)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/controllers/productos_controller.rb:46:in `update'
Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:20:08 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.8ms | Allocations: 922)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 987)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 2752)
Completed 200 OK in 33ms (Views: 29.3ms | ActiveRecord: 0.2ms | Allocations: 3343)


Started GET "/movimientos" for ::1 at 2025-06-27 19:20:10 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 2274)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 4267)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.5ms | Allocations: 4549)


Started GET "/productos" for ::1 at 2025-06-27 19:20:11 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 2750)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.1ms | Allocations: 3000)


Started GET "/productos/new" for ::1 at 2025-06-27 19:20:12 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.5ms | Allocations: 915)
  Rendered productos/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 980)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 2727)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms | Allocations: 2980)


Started GET "/movimientos" for ::1 at 2025-06-27 19:20:42 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2274)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 4261)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.4ms | Allocations: 4543)


Started GET "/productos" for ::1 at 2025-06-27 19:20:46 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 2753)
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.1ms | Allocations: 3003)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:20:48 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.8ms | Allocations: 940)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 2748)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.2ms | Allocations: 3339)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:20:51 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"200"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.8ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 200], ["updated_at", "2025-06-28 01:20:51.919816"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (3.7ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 50], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:20:51.939074"], ["updated_at", "2025-06-28 01:20:51.939074"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 38ms (ActiveRecord: 10.4ms | Allocations: 4165)


Started GET "/productos" for ::1 at 2025-06-27 19:20:51 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 2758)
Completed 200 OK in 23ms (Views: 22.9ms | ActiveRecord: 0.1ms | Allocations: 3011)


Started GET "/movimientos" for ::1 at 2025-06-27 19:20:53 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 2363)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 4353)
Completed 200 OK in 50ms (Views: 48.2ms | ActiveRecord: 0.5ms | Allocations: 4635)


Started GET "/productos" for ::1 at 2025-06-27 19:20:55 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 2741)
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.1ms | Allocations: 2991)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:20:57 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.7ms | Allocations: 931)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.8ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 2742)
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:20:58 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.9ms | Allocations: 937)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1002)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 2745)
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 0.2ms | Allocations: 3336)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:21:01 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"6"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.4ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 6], ["updated_at", "2025-06-28 01:21:01.649365"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 30ms (ActiveRecord: 5.8ms | Allocations: 3210)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/controllers/productos_controller.rb:46:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:21:02 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.4ms | Allocations: 940)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 2770)
Completed 200 OK in 37ms (Views: 33.1ms | ActiveRecord: 0.2ms | Allocations: 3361)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:21:10 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"6"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
Redirected to http://localhost:3000/productos
Completed 302 Found in 9ms (ActiveRecord: 0.2ms | Allocations: 934)


Started GET "/productos" for ::1 at 2025-06-27 19:21:10 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | Allocations: 2758)
Completed 200 OK in 30ms (Views: 29.4ms | ActiveRecord: 0.1ms | Allocations: 3011)


Started GET "/movimientos" for ::1 at 2025-06-27 19:21:12 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 2363)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 4332)
Completed 200 OK in 46ms (Views: 44.1ms | ActiveRecord: 0.6ms | Allocations: 4614)


Started GET "/productos" for ::1 at 2025-06-27 19:23:28 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 2756)
Completed 200 OK in 35ms (Views: 34.2ms | ActiveRecord: 0.2ms | Allocations: 3006)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:23:29 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.1ms | Allocations: 945)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1010)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 2753)
Completed 200 OK in 32ms (Views: 27.8ms | ActiveRecord: 0.3ms | Allocations: 3344)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:23:34 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"10"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (6.6ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 10], ["updated_at", "2025-06-28 01:23:34.683451"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (4.8ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 4], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:23:34.699328"], ["updated_at", "2025-06-28 01:23:34.699328"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 40ms (ActiveRecord: 12.2ms | Allocations: 4170)


Started GET "/productos" for ::1 at 2025-06-27 19:23:34 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 2754)
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.1ms | Allocations: 3007)


Started GET "/productos/new" for ::1 at 2025-06-27 19:23:35 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.3ms | Allocations: 879)
  Rendered productos/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 944)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 2691)
Completed 200 OK in 27ms (Views: 26.1ms | ActiveRecord: 0.0ms | Allocations: 2944)


Started GET "/movimientos" for ::1 at 2025-06-27 19:23:36 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 2452)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 4445)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.5ms | Allocations: 4727)


Started GET "/productos" for ::1 at 2025-06-27 19:23:37 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 2778)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.2ms | Allocations: 3028)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:23:38 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.5ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.5ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | Allocations: 2742)
Completed 200 OK in 34ms (Views: 30.4ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:23:41 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"1000"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.7ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 1000], ["updated_at", "2025-06-28 01:23:41.843180"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (8.4ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 990], ["tipo", "entrada"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:23:41.860063"], ["updated_at", "2025-06-28 01:23:41.860063"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 41ms (ActiveRecord: 14.9ms | Allocations: 4178)


Started GET "/productos" for ::1 at 2025-06-27 19:23:41 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 2785)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.2ms | Allocations: 3038)


Started GET "/movimientos" for ::1 at 2025-06-27 19:23:43 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.9ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 2541)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | Allocations: 4522)
Completed 200 OK in 42ms (Views: 39.5ms | ActiveRecord: 1.1ms | Allocations: 4804)


Started GET "/productos" for ::1 at 2025-06-27 19:23:44 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 2744)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.1ms | Allocations: 2994)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:23:45 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.7ms | Allocations: 919)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 984)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 2727)
Completed 200 OK in 36ms (Views: 32.5ms | ActiveRecord: 0.2ms | Allocations: 3318)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:23:48 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"500"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.3ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 500], ["updated_at", "2025-06-28 01:23:48.875623"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (9.0ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 500], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:23:48.892888"], ["updated_at", "2025-06-28 01:23:48.892888"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 51ms (ActiveRecord: 15.1ms | Allocations: 4171)


Started GET "/productos" for ::1 at 2025-06-27 19:23:48 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 2767)
Completed 200 OK in 39ms (Views: 38.5ms | ActiveRecord: 0.2ms | Allocations: 3020)


Started GET "/movimientos" for ::1 at 2025-06-27 19:23:50 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 2630)
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 4620)
Completed 200 OK in 54ms (Views: 52.1ms | ActiveRecord: 0.5ms | Allocations: 4902)


Started GET "/productos" for ::1 at 2025-06-27 19:23:52 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 2735)
Completed 200 OK in 28ms (Views: 28.0ms | ActiveRecord: 0.1ms | Allocations: 2985)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:23:53 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.4ms | Allocations: 957)
  Rendered productos/edit.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1022)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 2765)
Completed 200 OK in 44ms (Views: 38.2ms | ActiveRecord: 0.2ms | Allocations: 3356)


Started GET "/productos" for ::1 at 2025-06-27 19:23:54 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | Allocations: 2772)
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.2ms | Allocations: 3022)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:24:01 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"300"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (6.1ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 300], ["updated_at", "2025-06-28 01:24:01.529758"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mMovimiento Create (9.1ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 200], ["tipo", "salida"], ["nota", "Ajuste de stock por ediciÃ³n"], ["created_at", "2025-06-28 01:24:01.551784"], ["updated_at", "2025-06-28 01:24:01.551784"]]
  â†³ app/controllers/productos_controller.rb:46:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:46:in `update'
Redirected to http://localhost:3000/productos
Completed 302 Found in 54ms (ActiveRecord: 17.0ms | Allocations: 4176)


Started GET "/productos" for ::1 at 2025-06-27 19:24:01 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 2745)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.3ms | Allocations: 2998)


Started GET "/movimientos" for ::1 at 2025-06-27 19:24:03 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.7ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 47.7ms | Allocations: 2720)
  Rendered layout layouts/application.html.erb (Duration: 110.9ms | Allocations: 4719)
Completed 200 OK in 122ms (Views: 119.5ms | ActiveRecord: 0.8ms | Allocations: 5001)


Started GET "/clientes" for ::1 at 2025-06-27 19:24:04 -0600
Started GET "/movimientos" for ::1 at 2025-06-27 19:24:04 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.7ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 2734)
  Rendered layout layouts/application.html.erb (Duration: 44.6ms | Allocations: 4883)
Completed 200 OK in 49ms (Views: 47.5ms | ActiveRecord: 0.9ms | Allocations: 5170)


Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 944)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 2716)
Completed 200 OK in 61ms (Views: 48.4ms | ActiveRecord: 0.2ms | Allocations: 4119)


Started GET "/productos" for ::1 at 2025-06-27 19:24:07 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 773)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 2731)
Completed 200 OK in 25ms (Views: 24.5ms | ActiveRecord: 0.1ms | Allocations: 2982)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:24:08 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.7ms | Allocations: 934)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.0ms | Allocations: 999)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 2742)
Completed 200 OK in 31ms (Views: 27.6ms | ActiveRecord: 0.2ms | Allocations: 3333)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:24:13 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"15.0", "stock"=>"100"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (3.4ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 100], ["updated_at", "2025-06-28 01:24:13.489793"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
Completed 422 Unprocessable Content in 34ms (ActiveRecord: 3.8ms | Allocations: 3193)


  
ActiveRecord::RecordInvalid (Validation failed: Cantidad No hay suficiente stock para esta salida):
  
app/controllers/productos_controller.rb:46:in `update'
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:24:14 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.9ms | Allocations: 922)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 987)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 2752)
Completed 200 OK in 33ms (Views: 30.0ms | ActiveRecord: 0.2ms | Allocations: 3343)


Started GET "/productos" for ::1 at 2025-06-27 19:24:16 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 2738)
Completed 200 OK in 27ms (Views: 26.5ms | ActiveRecord: 0.1ms | Allocations: 2988)


Started GET "/movimientos" for ::1 at 2025-06-27 19:24:17 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 1], ["id", 2]]
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 2720)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 4723)
Completed 200 OK in 52ms (Views: 50.4ms | ActiveRecord: 0.5ms | Allocations: 5005)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-06-28 01:29:46.021473', '2025-06-28 01:29:46.021476') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProductos (20250627234329)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "productos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "precio" decimal, "stock" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234329') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMovimientos (20250627234335)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "movimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "tipo" varchar, "nota" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3e151d0f6d"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_movimientos_on_producto_id" ON "movimientos" ("producto_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234335') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateClientes (20250627234342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "clientes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "correo" varchar, "direccion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234342') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTasas (20250627234355)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "tasas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "porcentaje" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234355') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFacturas (20250627234404)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "cliente_id" integer NOT NULL, "numero" integer, "subtotal" decimal, "total" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c1da424846"
FOREIGN KEY ("cliente_id")
  REFERENCES "clientes" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_facturas_on_cliente_id" ON "facturas" ("cliente_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234404') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateDetalleFacturas (20250627234413)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "detalle_facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "factura_id" integer NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "precio_unitario" decimal, "tasa_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1a9aeb3114"
FOREIGN KEY ("factura_id")
  REFERENCES "facturas" ("id")
, CONSTRAINT "fk_rails_0a3f83598c"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
, CONSTRAINT "fk_rails_0d73f41fa9"
FOREIGN KEY ("tasa_id")
  REFERENCES "tasas" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_factura_id" ON "detalle_facturas" ("factura_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_producto_id" ON "detalle_facturas" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_tasa_id" ON "detalle_facturas" ("tasa_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234413') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-06-27 19:31:27 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1495)
  Rendered layout layouts/application.html.erb (Duration: 371.7ms | Allocations: 29451)
Completed 200 OK in 481ms (Views: 382.0ms | ActiveRecord: 3.1ms | Allocations: 41836)


Started GET "/productos/new" for ::1 at 2025-06-27 19:31:30 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 163.7ms | Allocations: 7195)
  Rendered productos/new.html.erb within layouts/application (Duration: 191.2ms | Allocations: 7500)
  Rendered layout layouts/application.html.erb (Duration: 209.2ms | Allocations: 9271)
Completed 200 OK in 268ms (Views: 210.4ms | ActiveRecord: 2.8ms | Allocations: 15338)


Started POST "/productos" for ::1 at 2025-06-27 19:31:43 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"5000", "stock"=>"4"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (5.6ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Samsung Laptop"], ["precio", 5000.0], ["stock", 4], ["created_at", "2025-06-28 01:31:43.555143"], ["updated_at", "2025-06-28 01:31:43.555143"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 43ms (ActiveRecord: 10.9ms | Allocations: 5146)


Started GET "/productos" for ::1 at 2025-06-27 19:31:43 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 89.7ms | Allocations: 4356)
  Rendered layout layouts/application.html.erb (Duration: 124.1ms | Allocations: 6354)
Completed 200 OK in 129ms (Views: 127.2ms | ActiveRecord: 0.8ms | Allocations: 6645)


Started GET "/movimientos" for ::1 at 2025-06-27 19:31:45 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 35.9ms | Allocations: 1277)
  Rendered layout layouts/application.html.erb (Duration: 72.8ms | Allocations: 3294)
Completed 200 OK in 97ms (Views: 91.7ms | ActiveRecord: 0.3ms | Allocations: 3916)


Started GET "/movimientos" for ::1 at 2025-06-27 19:31:45 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.4ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 2410)
Completed 200 OK in 38ms (Views: 36.4ms | ActiveRecord: 0.2ms | Allocations: 2692)


Started GET "/productos" for ::1 at 2025-06-27 19:31:47 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 43.8ms | Allocations: 3237)
  Rendered layout layouts/application.html.erb (Duration: 75.9ms | Allocations: 5214)
Completed 200 OK in 80ms (Views: 79.1ms | ActiveRecord: 0.7ms | Allocations: 5470)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:31:51 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 16.8ms | Allocations: 1945)
  Rendered productos/edit.html.erb within layouts/application (Duration: 21.3ms | Allocations: 2141)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 3884)
Completed 200 OK in 55ms (Views: 45.0ms | ActiveRecord: 0.8ms | Allocations: 5619)


Started GET "/productos" for ::1 at 2025-06-27 19:31:55 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 3230)
  Rendered layout layouts/application.html.erb (Duration: 58.3ms | Allocations: 5193)
Completed 200 OK in 61ms (Views: 60.0ms | ActiveRecord: 0.7ms | Allocations: 5443)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:31:58 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"5000.0", "stock"=>"3"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (4.5ms)[0m  [1m[33mUPDATE "productos" SET "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["stock", 3], ["updated_at", "2025-06-28 01:31:58.358237"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 39ms (ActiveRecord: 5.8ms | Allocations: 4527)


Started GET "/productos" for ::1 at 2025-06-27 19:31:58 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.2ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 72.7ms | Allocations: 5226)
Completed 200 OK in 76ms (Views: 75.0ms | ActiveRecord: 0.6ms | Allocations: 5479)


Started GET "/movimientos" for ::1 at 2025-06-27 19:32:00 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 2409)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.1ms | Allocations: 2691)


Started GET "/productos" for ::1 at 2025-06-27 19:32:01 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 41.2ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 68.2ms | Allocations: 5203)
Completed 200 OK in 72ms (Views: 70.3ms | ActiveRecord: 1.0ms | Allocations: 5453)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:32:05 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 16.8ms | Allocations: 1939)
  Rendered productos/edit.html.erb within layouts/application (Duration: 17.8ms | Allocations: 2004)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 3747)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.5ms | Allocations: 4338)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:32:10 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"4500.0", "stock"=>"0"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.6ms)[0m  [1m[33mUPDATE "productos" SET "precio" = ?, "stock" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["precio", 4500.0], ["stock", 0], ["updated_at", "2025-06-28 01:32:11.226500"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 42ms (ActiveRecord: 7.5ms | Allocations: 4325)


Started GET "/productos" for ::1 at 2025-06-27 19:32:11 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 58.6ms | Allocations: 5214)
Completed 200 OK in 62ms (Views: 60.5ms | ActiveRecord: 0.5ms | Allocations: 5467)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:32:12 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 14.2ms | Allocations: 1939)
  Rendered productos/edit.html.erb within layouts/application (Duration: 15.6ms | Allocations: 2004)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 3748)
Completed 200 OK in 44ms (Views: 40.4ms | ActiveRecord: 0.5ms | Allocations: 4339)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:32:21 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop Pro", "precio"=>"4500.0", "stock"=>"0"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (4.3ms)[0m  [1m[33mUPDATE "productos" SET "nombre" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["nombre", "Samsung Laptop Pro"], ["updated_at", "2025-06-28 01:32:21.868786"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 43ms (ActiveRecord: 6.1ms | Allocations: 4297)


Started GET "/productos" for ::1 at 2025-06-27 19:32:21 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 74.2ms | Allocations: 5226)
Completed 200 OK in 77ms (Views: 75.7ms | ActiveRecord: 0.8ms | Allocations: 5479)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:32:23 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 13.2ms | Allocations: 1933)
  Rendered productos/edit.html.erb within layouts/application (Duration: 14.7ms | Allocations: 1998)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | Allocations: 3741)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.5ms | Allocations: 4333)


Started GET "/movimientos" for ::1 at 2025-06-27 19:32:24 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 413)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 2390)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.1ms | Allocations: 2672)


Started GET "/productos" for ::1 at 2025-06-27 19:32:24 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.5ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 61.3ms | Allocations: 5226)
Completed 200 OK in 65ms (Views: 63.6ms | ActiveRecord: 0.8ms | Allocations: 5477)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:32:26 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 20.7ms | Allocations: 1936)
  Rendered productos/edit.html.erb within layouts/application (Duration: 23.3ms | Allocations: 2001)
  Rendered layout layouts/application.html.erb (Duration: 49.5ms | Allocations: 3764)
Completed 200 OK in 56ms (Views: 51.1ms | ActiveRecord: 0.9ms | Allocations: 4356)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:33:40 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_form.html.erb (Duration: 9.0ms | Allocations: 1921)
  Rendered productos/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1986)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 3729)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.4ms | Allocations: 4320)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:34:46 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.8ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.2ms | Allocations: 1221)
  Rendered productos/edit.html.erb within layouts/application (Duration: 175.6ms | Allocations: 1489)
  Rendered layout layouts/application.html.erb (Duration: 196.3ms | Allocations: 3684)
Completed 200 OK in 275ms (Views: 223.4ms | ActiveRecord: 14.5ms | Allocations: 9904)


Started GET "/productos" for ::1 at 2025-06-27 19:34:49 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 46.5ms | Allocations: 5766)
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 7733)
Completed 200 OK in 78ms (Views: 70.9ms | ActiveRecord: 1.8ms | Allocations: 8070)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:34:51 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.3ms | Allocations: 772)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.7ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | Allocations: 2580)
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 0.2ms | Allocations: 3173)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:34:59 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"", "precio"=>"10000"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.7ms | Allocations: 1399)
  Rendered productos/edit.html.erb within layouts/application (Duration: 8.4ms | Allocations: 1507)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 3250)
Completed 422 Unprocessable Content in 49ms (Views: 30.5ms | ActiveRecord: 0.4ms | Allocations: 6228)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:35:11 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias", "precio"=>"10000"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (5.2ms)[0m  [1m[33mUPDATE "productos" SET "nombre" = ?, "precio" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["nombre", "Sandalias"], ["precio", 10000.0], ["updated_at", "2025-06-28 01:35:11.810899"], ["id", 1]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 51ms (ActiveRecord: 12.9ms | Allocations: 4415)


Started GET "/productos" for ::1 at 2025-06-27 19:35:11 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.2ms | Allocations: 3232)
  Rendered layout layouts/application.html.erb (Duration: 63.2ms | Allocations: 5257)
Completed 200 OK in 67ms (Views: 65.2ms | ActiveRecord: 0.8ms | Allocations: 5512)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:35:14 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.5ms | Allocations: 760)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.9ms | Allocations: 825)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 2585)
Completed 200 OK in 30ms (Views: 27.0ms | ActiveRecord: 0.2ms | Allocations: 3177)


Started GET "/productos" for ::1 at 2025-06-27 19:35:17 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 63.1ms | Allocations: 5195)
Completed 200 OK in 66ms (Views: 65.0ms | ActiveRecord: 0.4ms | Allocations: 5445)


Started GET "/movimientos" for ::1 at 2025-06-27 19:35:20 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.6ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:3
  Rendered movimientos/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 721)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 2724)
Completed 200 OK in 58ms (Views: 52.0ms | ActiveRecord: 0.6ms | Allocations: 3296)


Started GET "/productos" for ::1 at 2025-06-27 19:35:22 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 43.8ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 66.9ms | Allocations: 5204)
Completed 200 OK in 70ms (Views: 68.5ms | ActiveRecord: 0.5ms | Allocations: 5454)


Started GET "/productos" for ::1 at 2025-06-27 19:36:27 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 67.0ms | Allocations: 9144)
  Rendered layout layouts/application.html.erb (Duration: 96.4ms | Allocations: 11585)
Completed 200 OK in 330ms (Views: 106.7ms | ActiveRecord: 12.2ms | Allocations: 13671)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:36:31 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
Completed 406 Not Acceptable in 69ms (ActiveRecord: 0.0ms | Allocations: 5011)


  
ActionController::MissingExactTemplate (MovimientosController#new is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/productos" for ::1 at 2025-06-27 19:36:33 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.2ms | Allocations: 3287)
  Rendered layout layouts/application.html.erb (Duration: 73.5ms | Allocations: 5269)
Completed 200 OK in 78ms (Views: 76.6ms | ActiveRecord: 1.1ms | Allocations: 5522)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:38:05 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 554)


  
ActionController::MissingExactTemplate (MovimientosController#new is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:38:06 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
Completed 406 Not Acceptable in 1ms (ActiveRecord: 0.0ms | Allocations: 554)


  
ActionController::MissingExactTemplate (MovimientosController#new is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.16) lib/rack/etag.rb:29:in `call'
rack (3.1.16) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.16) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/productos" for ::1 at 2025-06-27 19:40:10 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 55.1ms | Allocations: 16562)
  Rendered layout layouts/application.html.erb (Duration: 165.5ms | Allocations: 39952)
Completed 200 OK in 235ms (Views: 174.1ms | ActiveRecord: 3.8ms | Allocations: 52209)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:40:12 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:27:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 54.5ms | Allocations: 3314)
  Rendered layout layouts/application.html.erb (Duration: 63.3ms | Allocations: 5061)
Completed 200 OK in 196ms (Views: 73.6ms | ActiveRecord: 0.5ms | Allocations: 12003)


Started GET "/productos" for ::1 at 2025-06-27 19:40:16 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.8ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 3291)
  Rendered layout layouts/application.html.erb (Duration: 63.8ms | Allocations: 5278)
Completed 200 OK in 67ms (Views: 65.5ms | ActiveRecord: 1.2ms | Allocations: 5534)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:40:17 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:27:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 1797)
  Rendered layout layouts/application.html.erb (Duration: 42.2ms | Allocations: 3541)
Completed 200 OK in 49ms (Views: 44.5ms | ActiveRecord: 1.0ms | Allocations: 4178)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:40:38 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"123", "nota"=>"Nuevas sandalias", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:27:in `set_producto'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
  [1m[36mMovimiento Create (5.1ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 123], ["tipo", "entrada"], ["nota", "Nuevas sandalias"], ["created_at", "2025-06-28 01:40:38.627138"], ["updated_at", "2025-06-28 01:40:38.627138"]]
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (9.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
Redirected to http://localhost:3000/productos
Completed 302 Found in 36ms (ActiveRecord: 14.6ms | Allocations: 3783)


Started GET "/productos" for ::1 at 2025-06-27 19:40:38 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 3285)
  Rendered layout layouts/application.html.erb (Duration: 67.3ms | Allocations: 5272)
Completed 200 OK in 70ms (Views: 68.7ms | ActiveRecord: 0.6ms | Allocations: 5562)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:40:41 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:27:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.4ms | Allocations: 1799)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 3542)
Completed 200 OK in 42ms (Views: 37.5ms | ActiveRecord: 0.5ms | Allocations: 4165)


Started GET "/productos" for ::1 at 2025-06-27 19:40:42 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 5240)
Completed 200 OK in 49ms (Views: 48.5ms | ActiveRecord: 0.5ms | Allocations: 5490)


Started GET "/productos" for ::1 at 2025-06-27 19:40:46 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 36.8ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 60.7ms | Allocations: 5255)
Completed 200 OK in 64ms (Views: 62.5ms | ActiveRecord: 0.6ms | Allocations: 5505)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:40:53 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"5", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:27:in `set_producto'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
  [1m[36mMovimiento Create (19.7ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 5], ["tipo", "entrada"], ["nota", ""], ["created_at", "2025-06-28 01:40:53.485825"], ["updated_at", "2025-06-28 01:40:53.485825"]]
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:16:in `create'
Redirected to http://localhost:3000/productos
Completed 302 Found in 37ms (ActiveRecord: 33.9ms | Allocations: 2260)


Started GET "/productos" for ::1 at 2025-06-27 19:40:53 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 35.0ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 63.4ms | Allocations: 5282)
Completed 200 OK in 66ms (Views: 65.1ms | ActiveRecord: 0.6ms | Allocations: 5536)


Started GET "/movimientos" for ::1 at 2025-06-27 19:40:54 -0600
  
ActionController::RoutingError (No route matches [GET] "/movimientos"):
  
Started GET "/productos/new" for ::1 at 2025-06-27 19:40:55 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.8ms | Allocations: 1207)
  Rendered productos/new.html.erb within layouts/application (Duration: 16.5ms | Allocations: 1472)
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 3235)
Completed 200 OK in 43ms (Views: 39.1ms | ActiveRecord: 0.0ms | Allocations: 3561)


Started GET "/movimientos" for ::1 at 2025-06-27 19:43:19 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.6ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 101.4ms | Allocations: 10215)
  Rendered layout layouts/application.html.erb (Duration: 132.1ms | Allocations: 12690)
Completed 200 OK in 245ms (Views: 158.8ms | ActiveRecord: 19.8ms | Allocations: 15507)


Started GET "/productos" for ::1 at 2025-06-27 19:49:49 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (7.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.7ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 45.4ms | Allocations: 4642)
  Rendered layout layouts/application.html.erb (Duration: 76.5ms | Allocations: 6639)
Completed 200 OK in 99ms (Views: 80.5ms | ActiveRecord: 13.3ms | Allocations: 7174)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:49:51 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 18.6ms | Allocations: 2212)
  Rendered layout layouts/application.html.erb (Duration: 44.2ms | Allocations: 3955)
Completed 200 OK in 55ms (Views: 46.4ms | ActiveRecord: 0.7ms | Allocations: 5282)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:49:52 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 1796)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 3539)
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 0.6ms | Allocations: 4162)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:50:00 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 12.2ms | Allocations: 2600)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 4339)
Completed 422 Unprocessable Content in 43ms (Views: 37.2ms | ActiveRecord: 0.5ms | Allocations: 6456)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:50:02 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 47.7ms | Allocations: 2430)
  Rendered layout layouts/application.html.erb (Duration: 100.9ms | Allocations: 4185)
Completed 422 Unprocessable Content in 112ms (Views: 104.1ms | ActiveRecord: 0.7ms | Allocations: 6056)


Started GET "/productos" for ::1 at 2025-06-27 19:50:02 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 51.3ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 87.0ms | Allocations: 5265)
Completed 200 OK in 91ms (Views: 88.5ms | ActiveRecord: 1.3ms | Allocations: 5515)


Started GET "/productos" for ::1 at 2025-06-27 19:51:35 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 165.4ms | Allocations: 8084)
Completed 200 OK in 168ms (Views: 167.0ms | ActiveRecord: 0.3ms | Allocations: 8334)


Started GET "/movimientos" for ::1 at 2025-06-27 19:51:38 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1289)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3263)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 3545)


Started GET "/productos" for ::1 at 2025-06-27 19:51:38 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 5255)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.3ms | Allocations: 5505)


Started GET "/movimientos" for ::1 at 2025-06-27 19:51:40 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.8ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 20.1ms | Allocations: 1235)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 3224)
Completed 200 OK in 48ms (Views: 46.5ms | ActiveRecord: 1.0ms | Allocations: 3507)


Started GET "/productos" for ::1 at 2025-06-27 19:51:44 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.2ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 55.7ms | Allocations: 5261)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.6ms | Allocations: 5511)


Started GET "/productos/new" for ::1 at 2025-06-27 19:51:49 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.3ms | Allocations: 1129)
  Rendered productos/new.html.erb within layouts/application (Duration: 14.6ms | Allocations: 1391)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 3138)
Completed 200 OK in 43ms (Views: 39.4ms | ActiveRecord: 0.0ms | Allocations: 3461)


Started POST "/productos" for ::1 at 2025-06-27 19:51:55 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"400"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (5.8ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Sandalias X pro max"], ["precio", 400.0], ["stock", nil], ["created_at", "2025-06-28 01:51:55.709940"], ["updated_at", "2025-06-28 01:51:55.709940"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 42ms (ActiveRecord: 12.1ms | Allocations: 3783)


Started GET "/productos" for ::1 at 2025-06-27 19:51:55 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 90.0ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 125.0ms | Allocations: 8160)
Completed 200 OK in 129ms (Views: 126.2ms | ActiveRecord: 1.8ms | Allocations: 8413)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 19:51:58 -0600
Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:51:59 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 22.7ms | Allocations: 1800)
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 3628)
Completed 200 OK in 73ms (Views: 65.5ms | ActiveRecord: 0.9ms | Allocations: 4259)


Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.3ms | Allocations: 766)
  Rendered productos/edit.html.erb within layouts/application (Duration: 11.4ms | Allocations: 964)
  Rendered layout layouts/application.html.erb (Duration: 41.0ms | Allocations: 2707)
Completed 200 OK in 68ms (Views: 44.7ms | ActiveRecord: 0.5ms | Allocations: 3360)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:51:59 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.9ms | Allocations: 754)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.6ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 2562)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.2ms | Allocations: 3153)


Started GET "/productos" for ::1 at 2025-06-27 19:52:01 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 74.9ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 99.7ms | Allocations: 8124)
Completed 200 OK in 102ms (Views: 100.4ms | ActiveRecord: 1.1ms | Allocations: 8374)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:52:02 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.6ms | Allocations: 1808)
  Rendered layout layouts/application.html.erb (Duration: 41.1ms | Allocations: 3551)
Completed 200 OK in 50ms (Views: 43.9ms | ActiveRecord: 0.5ms | Allocations: 4174)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:52:02 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.6ms | Allocations: 760)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 825)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 2568)
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 0.2ms | Allocations: 3159)


Started GET "/productos" for ::1 at 2025-06-27 19:52:04 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 59.2ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 75.8ms | Allocations: 8112)
Completed 200 OK in 78ms (Views: 76.9ms | ActiveRecord: 0.9ms | Allocations: 8362)


Started PATCH "/productos/2" for ::1 at 2025-06-27 19:52:05 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"0"}, "commit"=>"Actualizar Producto", "id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mProducto Update (6.0ms)[0m  [1m[33mUPDATE "productos" SET "precio" = ?, "updated_at" = ? WHERE "productos"."id" = ?[0m  [["precio", 0.0], ["updated_at", "2025-06-28 01:52:05.992634"], ["id", 2]]
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:33:in `update'
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 50ms (ActiveRecord: 8.0ms | Allocations: 4486)


Started GET "/productos" for ::1 at 2025-06-27 19:52:06 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 81.8ms | Allocations: 6150)
  Rendered layout layouts/application.html.erb (Duration: 112.9ms | Allocations: 8148)
Completed 200 OK in 117ms (Views: 115.3ms | ActiveRecord: 1.5ms | Allocations: 8401)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:52:07 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.7ms | Allocations: 777)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 842)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 2596)
Completed 200 OK in 32ms (Views: 28.9ms | ActiveRecord: 0.2ms | Allocations: 3187)


Started GET "/productos" for ::1 at 2025-06-27 19:52:08 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.8ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 66.2ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 88.1ms | Allocations: 8121)
Completed 200 OK in 91ms (Views: 88.4ms | ActiveRecord: 1.8ms | Allocations: 8371)


Started PATCH "/productos/2" for ::1 at 2025-06-27 19:52:12 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"-123"}, "commit"=>"Actualizar Producto", "id"=>"2"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 11.6ms | Allocations: 1365)
  Rendered productos/edit.html.erb within layouts/application (Duration: 16.3ms | Allocations: 1473)
  Rendered layout layouts/application.html.erb (Duration: 66.3ms | Allocations: 3216)
Completed 422 Unprocessable Content in 86ms (Views: 72.8ms | ActiveRecord: 0.6ms | Allocations: 5993)


Started GET "/productos" for ::1 at 2025-06-27 19:52:14 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 62.0ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 82.2ms | Allocations: 8132)
Completed 200 OK in 86ms (Views: 83.2ms | ActiveRecord: 1.2ms | Allocations: 8382)


Started GET "/productos" for ::1 at 2025-06-27 19:52:20 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 65.9ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 89.5ms | Allocations: 8118)
Completed 200 OK in 93ms (Views: 90.9ms | ActiveRecord: 1.4ms | Allocations: 8368)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:52:22 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.7ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 1799)
  Rendered layout layouts/application.html.erb (Duration: 35.4ms | Allocations: 3542)
Completed 200 OK in 43ms (Views: 36.4ms | ActiveRecord: 1.4ms | Allocations: 4165)


Started GET "/productos" for ::1 at 2025-06-27 19:53:55 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 111.5ms | Allocations: 11949)
  Rendered layout layouts/application.html.erb (Duration: 141.6ms | Allocations: 14403)
Completed 200 OK in 295ms (Views: 150.6ms | ActiveRecord: 11.9ms | Allocations: 16490)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:53:58 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 2233)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | Allocations: 3979)
Completed 200 OK in 68ms (Views: 53.3ms | ActiveRecord: 0.7ms | Allocations: 8456)


Started GET "/productos/new" for ::1 at 2025-06-27 19:54:04 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.4ms | Allocations: 1121)
  Rendered productos/new.html.erb within layouts/application (Duration: 14.0ms | Allocations: 1379)
  Rendered layout layouts/application.html.erb (Duration: 38.8ms | Allocations: 3129)
Completed 200 OK in 47ms (Views: 41.5ms | ActiveRecord: 0.0ms | Allocations: 3452)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:54:07 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.6ms | Allocations: 1808)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 3551)
Completed 200 OK in 53ms (Views: 47.0ms | ActiveRecord: 1.0ms | Allocations: 4174)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:54:13 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 17.6ms | Allocations: 2444)
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 4183)
Completed 422 Unprocessable Content in 55ms (Views: 45.2ms | ActiveRecord: 0.7ms | Allocations: 6244)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 19:54:19 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2434)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 4173)
Completed 422 Unprocessable Content in 44ms (Views: 37.5ms | ActiveRecord: 0.6ms | Allocations: 6040)


Started GET "/productos" for ::1 at 2025-06-27 19:54:20 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 69.0ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 90.2ms | Allocations: 8103)
Completed 200 OK in 94ms (Views: 91.7ms | ActiveRecord: 1.6ms | Allocations: 8353)


Started GET "/movimientos" for ::1 at 2025-06-27 19:54:33 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1718)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 3701)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.4ms | Allocations: 4075)


Started GET "/productos" for ::1 at 2025-06-27 19:54:34 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 6149)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 8128)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.5ms | Allocations: 8378)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 19:54:36 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1803)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 3561)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 4184)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 19:54:37 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1800)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 3543)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.2ms | Allocations: 4166)


Started POST "/movimientos?producto_id=2" for ::1 at 2025-06-27 19:54:51 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"5", "nota"=>"Agregando los primeros stocks", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mMovimiento Create (1.0ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 2], ["cantidad", 5], ["tipo", "entrada"], ["nota", "Agregando los primeros stocks"], ["created_at", "2025-06-28 01:54:51.648281"], ["updated_at", "2025-06-28 01:54:51.648281"]]
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
Redirected to http://localhost:3000/movimientos
Completed 302 Found in 11ms (ActiveRecord: 4.1ms | Allocations: 2362)


Started GET "/movimientos" for ::1 at 2025-06-27 19:54:51 -0600
Processing by MovimientosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 2], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1403)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 3402)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.3ms | Allocations: 3687)


Started GET "/productos" for ::1 at 2025-06-27 19:54:55 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6148)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 8102)
Completed 200 OK in 26ms (Views: 25.5ms | ActiveRecord: 0.4ms | Allocations: 8352)


Started GET "/productos" for ::1 at 2025-06-27 19:54:56 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 6148)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 8108)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.5ms | Allocations: 8358)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:54:58 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.1ms | Allocations: 769)
  Rendered productos/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 968)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2711)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 3364)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:54:59 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.7ms | Allocations: 775)
  Rendered productos/edit.html.erb within layouts/application (Duration: 2.3ms | Allocations: 840)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2583)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms | Allocations: 3174)


Started GET "/productos/2" for ::1 at 2025-06-27 19:55:02 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_producto.html.erb (Duration: 6.0ms | Allocations: 1212)
  Rendered productos/show.html.erb within layouts/application (Duration: 119.2ms | Allocations: 9988)
  Rendered layout layouts/application.html.erb (Duration: 130.3ms | Allocations: 11739)
Completed 200 OK in 135ms (Views: 131.6ms | ActiveRecord: 0.3ms | Allocations: 12416)


Started GET "/productos" for ::1 at 2025-06-27 19:55:03 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 6148)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 8133)
Completed 200 OK in 26ms (Views: 25.4ms | ActiveRecord: 0.4ms | Allocations: 8383)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 19:55:06 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.1ms | Allocations: 757)
  Rendered productos/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 822)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 2565)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.1ms | Allocations: 3156)


Started GET "/productos" for ::1 at 2025-06-27 19:55:07 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 6148)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 8111)
Completed 200 OK in 24ms (Views: 23.6ms | ActiveRecord: 0.4ms | Allocations: 8361)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 19:55:08 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1811)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3554)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.2ms | Allocations: 4177)


Started GET "/productos/2" for ::1 at 2025-06-27 19:55:10 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_producto.html.erb (Duration: 3.5ms | Allocations: 1026)
  Rendered productos/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1497)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 3232)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 3823)


Started GET "/productos" for ::1 at 2025-06-27 19:55:11 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 6148)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 8126)
Completed 200 OK in 30ms (Views: 29.5ms | ActiveRecord: 0.5ms | Allocations: 8376)


Started DELETE "/productos/2" for ::1 at 2025-06-27 19:55:13 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Load (1.9ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", 2]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Destroy (0.1ms)[0m  [1m[31mDELETE FROM "movimientos" WHERE "movimientos"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 13ms (ActiveRecord: 2.4ms | Allocations: 4173)


Started GET "/productos" for ::1 at 2025-06-27 19:55:13 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 5287)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.3ms | Allocations: 5540)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:55:14 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1784)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3543)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 4166)


Started GET "/productos/1" for ::1 at 2025-06-27 19:55:15 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/_producto.html.erb (Duration: 4.0ms | Allocations: 1026)
  Rendered productos/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1485)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 3221)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.4ms | Allocations: 3812)


Started GET "/productos/1" for ::1 at 2025-06-27 19:56:29 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (1.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 53.8ms | Allocations: 5629)
  Rendered layout layouts/application.html.erb (Duration: 85.7ms | Allocations: 7810)
Completed 200 OK in 261ms (Views: 120.9ms | ActiveRecord: 17.2ms | Allocations: 14048)


Started GET "/productos" for ::1 at 2025-06-27 19:56:31 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 3704)
  Rendered layout layouts/application.html.erb (Duration: 55.3ms | Allocations: 5676)
Completed 200 OK in 64ms (Views: 56.7ms | ActiveRecord: 0.9ms | Allocations: 6014)


Started GET "/productos" for ::1 at 2025-06-27 19:56:35 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 39.3ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 57.6ms | Allocations: 5267)
Completed 200 OK in 60ms (Views: 58.3ms | ActiveRecord: 1.4ms | Allocations: 5517)


Started GET "/productos" for ::1 at 2025-06-27 19:56:37 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 60.3ms | Allocations: 5265)
Completed 200 OK in 63ms (Views: 62.0ms | ActiveRecord: 0.6ms | Allocations: 5515)


Started GET "/productos" for ::1 at 2025-06-27 19:56:38 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 5259)
Completed 200 OK in 51ms (Views: 50.1ms | ActiveRecord: 0.5ms | Allocations: 5509)


Started GET "/productos" for ::1 at 2025-06-27 19:56:39 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.8ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 60.8ms | Allocations: 5268)
Completed 200 OK in 65ms (Views: 62.3ms | ActiveRecord: 2.2ms | Allocations: 5518)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:56:40 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.5ms | Allocations: 1179)
  Rendered productos/edit.html.erb within layouts/application (Duration: 11.1ms | Allocations: 1439)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 3182)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 0.2ms | Allocations: 3833)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:56:42 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.3ms | Allocations: 772)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 837)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 2580)
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 0.2ms | Allocations: 3171)


Started GET "/productos" for ::1 at 2025-06-27 19:56:44 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 54.5ms | Allocations: 5252)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.6ms | Allocations: 5502)


Started GET "/productos" for ::1 at 2025-06-27 19:56:44 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 51.6ms | Allocations: 5252)
Completed 200 OK in 55ms (Views: 53.6ms | ActiveRecord: 0.8ms | Allocations: 5502)


Started GET "/productos" for ::1 at 2025-06-27 19:56:45 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 32.9ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 54.4ms | Allocations: 5264)
Completed 200 OK in 57ms (Views: 54.5ms | ActiveRecord: 2.0ms | Allocations: 5514)


Started GET "/productos" for ::1 at 2025-06-27 19:56:47 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.7ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | Allocations: 5246)
Completed 200 OK in 67ms (Views: 65.4ms | ActiveRecord: 1.2ms | Allocations: 5496)


Started GET "/productos" for ::1 at 2025-06-27 19:56:48 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 48.1ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 68.8ms | Allocations: 5257)
Completed 200 OK in 71ms (Views: 70.3ms | ActiveRecord: 0.7ms | Allocations: 5507)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:56:49 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.8ms | Allocations: 748)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.1ms | Allocations: 813)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 2560)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 0.2ms | Allocations: 3151)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:56:50 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2217)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 3973)
Completed 200 OK in 72ms (Views: 50.3ms | ActiveRecord: 0.6ms | Allocations: 7953)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:56:50 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.7ms | Allocations: 754)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 2562)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 0.2ms | Allocations: 3153)


Started GET "/productos/new" for ::1 at 2025-06-27 19:56:51 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.8ms | Allocations: 723)
  Rendered productos/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 918)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 2666)
Completed 200 OK in 37ms (Views: 31.5ms | ActiveRecord: 0.0ms | Allocations: 2989)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:56:52 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.0ms | Allocations: 763)
  Rendered productos/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 2571)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 0.2ms | Allocations: 3162)


Started GET "/productos" for ::1 at 2025-06-27 19:56:53 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (1.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | Allocations: 5249)
Completed 200 OK in 60ms (Views: 58.3ms | ActiveRecord: 1.5ms | Allocations: 5499)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:57:49 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.1ms | Allocations: 1237)
  Rendered productos/edit.html.erb within layouts/application (Duration: 187.0ms | Allocations: 1502)
  Rendered layout layouts/application.html.erb (Duration: 209.5ms | Allocations: 3709)
Completed 200 OK in 280ms (Views: 234.7ms | ActiveRecord: 13.4ms | Allocations: 9891)


Started GET "/productos" for ::1 at 2025-06-27 19:57:51 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 5856)
  Rendered layout layouts/application.html.erb (Duration: 68.4ms | Allocations: 7815)
Completed 200 OK in 74ms (Views: 68.7ms | ActiveRecord: 1.8ms | Allocations: 8152)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-06-27 19:57:54 -0600
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:58:45 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.8ms | Allocations: 1222)
  Rendered productos/edit.html.erb within layouts/application (Duration: 110.3ms | Allocations: 1487)
  Rendered layout layouts/application.html.erb (Duration: 121.4ms | Allocations: 3698)
Completed 200 OK in 142ms (Views: 128.1ms | ActiveRecord: 3.6ms | Allocations: 9917)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-06-27 19:58:46 -0600
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/productos" for ::1 at 2025-06-27 19:58:48 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 5858)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | Allocations: 7835)
Completed 200 OK in 29ms (Views: 26.5ms | ActiveRecord: 0.9ms | Allocations: 8173)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-06-27 19:58:48 -0600
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/productos/new" for ::1 at 2025-06-27 19:58:49 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.9ms | Allocations: 720)
  Rendered productos/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 917)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 2680)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms | Allocations: 3005)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 19:58:51 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2202)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 3948)
Completed 200 OK in 23ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 7929)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:58:52 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.9ms | Allocations: 756)
  Rendered productos/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 821)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 2564)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.1ms | Allocations: 3155)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:58:53 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias", "precio"=>"10000.0"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 15ms (ActiveRecord: 0.5ms | Allocations: 3032)


Started GET "/productos" for ::1 at 2025-06-27 19:58:53 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 5290)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 5580)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:58:54 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.1ms | Allocations: 750)
  Rendered productos/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 815)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 2558)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms | Allocations: 3149)


Started PATCH "/productos/1" for ::1 at 2025-06-27 19:59:05 -0600
Processing by ProductosController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias", "precio"=>"10000.0"}, "commit"=>"Actualizar Producto", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2776)


Started GET "/productos" for ::1 at 2025-06-27 19:59:06 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 5274)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.4ms | Allocations: 5527)


Started GET "/productos/new" for ::1 at 2025-06-27 19:59:06 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.1ms | Allocations: 716)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 781)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 2528)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 2781)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:09 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1720)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3694)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.4ms | Allocations: 4068)


Started GET "/productos" for ::1 at 2025-06-27 19:59:12 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 5264)
Completed 200 OK in 18ms (Views: 17.7ms | ActiveRecord: 0.2ms | Allocations: 5514)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:21 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1241)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3232)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.2ms | Allocations: 3515)


Started GET "/productos" for ::1 at 2025-06-27 19:59:22 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 5255)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.3ms | Allocations: 5505)


Started GET "/productos" for ::1 at 2025-06-27 19:59:23 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 5249)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.2ms | Allocations: 5499)


Started GET "/productos/new" for ::1 at 2025-06-27 19:59:25 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.1ms | Allocations: 722)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 2534)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 2787)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:26 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1235)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 3233)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.1ms | Allocations: 3515)


Started GET "/productos" for ::1 at 2025-06-27 19:59:26 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 5249)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.3ms | Allocations: 5499)


Started GET "/productos" for ::1 at 2025-06-27 19:59:31 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 21.2ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 5237)
Completed 200 OK in 32ms (Views: 31.7ms | ActiveRecord: 0.3ms | Allocations: 5487)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 19:59:32 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.5ms | Allocations: 756)
  Rendered productos/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 821)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 2564)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.1ms | Allocations: 3155)


Started GET "/productos/new" for ::1 at 2025-06-27 19:59:33 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 0.9ms | Allocations: 719)
  Rendered productos/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 784)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2531)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 2784)


Started POST "/productos" for ::1 at 2025-06-27 19:59:39 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"1234"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (1.5ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Samsung Laptop"], ["precio", 1234.0], ["stock", nil], ["created_at", "2025-06-28 01:59:39.581939"], ["updated_at", "2025-06-28 01:59:39.581939"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 13ms (ActiveRecord: 4.6ms | Allocations: 2971)


Started GET "/productos" for ::1 at 2025-06-27 19:59:39 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 6156)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 8149)
Completed 200 OK in 30ms (Views: 29.6ms | ActiveRecord: 0.4ms | Allocations: 8402)


Started GET "/movimientos/new?producto_id=3&tipo=entrada" for ::1 at 2025-06-27 19:59:41 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"3", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1809)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 3552)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.5ms | Allocations: 4175)


Started POST "/movimientos?producto_id=3" for ::1 at 2025-06-27 19:59:45 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"500", "nota"=>"", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"3"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mMovimiento Create (1.4ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 3], ["cantidad", 500], ["tipo", "entrada"], ["nota", ""], ["created_at", "2025-06-28 01:59:45.113069"], ["updated_at", "2025-06-28 01:59:45.113069"]]
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
Redirected to http://localhost:3000/movimientos
Completed 302 Found in 8ms (ActiveRecord: 1.7ms | Allocations: 2479)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:45 -0600
Processing by MovimientosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 3], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1369)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 3368)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.5ms | Allocations: 3653)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:46 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" IN (?, ?)[0m  [["id", 3], ["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1369)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3364)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.2ms | Allocations: 3646)


Started GET "/productos" for ::1 at 2025-06-27 19:59:49 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 6155)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 8124)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.4ms | Allocations: 8374)


Started GET "/productos/3" for ::1 at 2025-06-27 19:59:51 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3484)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 5219)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.3ms | Allocations: 5895)


Started GET "/productos" for ::1 at 2025-06-27 19:59:55 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 6155)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 8133)
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.5ms | Allocations: 8383)


Started DELETE "/productos/3" for ::1 at 2025-06-27 19:59:56 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Load (1.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", 3]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Destroy (0.1ms)[0m  [1m[31mDELETE FROM "movimientos" WHERE "movimientos"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 10ms (ActiveRecord: 1.7ms | Allocations: 3988)


Started GET "/productos" for ::1 at 2025-06-27 19:59:56 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 5311)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.2ms | Allocations: 5565)


Started GET "/productos/new" for ::1 at 2025-06-27 19:59:57 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.6ms | Allocations: 716)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 781)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 2528)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 2781)


Started GET "/movimientos" for ::1 at 2025-06-27 19:59:57 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1235)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3233)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 3515)


Started GET "/productos" for ::1 at 2025-06-27 19:59:58 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 5249)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.2ms | Allocations: 5499)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddProductoNombreToMovimientos (20250628020332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "movimientos" ADD "producto_nombre" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250628020332') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/productos" for ::1 at 2025-06-27 20:05:01 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 99.1ms | Allocations: 16585)
  Rendered layout layouts/application.html.erb (Duration: 303.5ms | Allocations: 44561)
Completed 200 OK in 429ms (Views: 318.3ms | ActiveRecord: 4.5ms | Allocations: 56946)


Started GET "/productos/new" for ::1 at 2025-06-27 20:05:03 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 8.2ms | Allocations: 2028)
  Rendered productos/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2330)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 4079)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms | Allocations: 4434)


Started GET "/productos/1" for ::1 at 2025-06-27 20:05:04 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 41.2ms | Allocations: 3504)
  Rendered layout layouts/application.html.erb (Duration: 62.6ms | Allocations: 5240)
Completed 200 OK in 83ms (Views: 65.9ms | ActiveRecord: 0.9ms | Allocations: 7024)


Started DELETE "/productos/1" for ::1 at 2025-06-27 20:05:06 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Update All (10.9ms)[0m  [1m[33mUPDATE "movimientos" SET "producto_id" = ? WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", nil], ["producto_id", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 11.4ms | Allocations: 3533)


  
ActiveRecord::NotNullViolation (SQLite3::ConstraintException: NOT NULL constraint failed: movimientos.producto_id):
  
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AllowNullProductoIdOnMovimientos (20250628020619)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amovimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer DEFAULT NULL, "tipo" varchar DEFAULT NULL, "nota" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "producto_nombre" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amovimientos_on_producto_id" ON "amovimientos" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amovimientos" ("id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre")
                     SELECT "id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre" FROM "movimientos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "movimientos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "movimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer DEFAULT NULL, "cantidad" integer DEFAULT NULL, "tipo" varchar DEFAULT NULL, "nota" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "producto_nombre" varchar DEFAULT NULL, CONSTRAINT "fk_rails_3e151d0f6d"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_movimientos_on_producto_id" ON "movimientos" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "movimientos" ("id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre")
                     SELECT "id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre" FROM "amovimientos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amovimientos"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250628020619') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/productos/1" for ::1 at 2025-06-27 20:08:11 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 82.1ms | Allocations: 10458)
  Rendered layout layouts/application.html.erb (Duration: 172.8ms | Allocations: 32021)
Completed 200 OK in 258ms (Views: 189.5ms | ActiveRecord: 4.2ms | Allocations: 52737)


Started DELETE "/productos/1" for ::1 at 2025-06-27 20:08:14 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Update All (4.6ms)[0m  [1m[33mUPDATE "movimientos" SET "producto_id" = ? WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", nil], ["producto_id", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.3ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 38ms (ActiveRecord: 16.2ms | Allocations: 3032)


Started GET "/productos" for ::1 at 2025-06-27 20:08:14 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 838)
  Rendered layout layouts/application.html.erb (Duration: 56.5ms | Allocations: 2846)
Completed 200 OK in 64ms (Views: 59.2ms | ActiveRecord: 0.2ms | Allocations: 3225)


Started GET "/movimientos" for ::1 at 2025-06-27 20:08:16 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 83.7ms | Allocations: 8159)
  Rendered layout layouts/application.html.erb (Duration: 100.4ms | Allocations: 10153)
Completed 200 OK in 152ms (Views: 113.6ms | ActiveRecord: 0.3ms | Allocations: 10776)


Started GET "/productos" for ::1 at 2025-06-27 20:08:17 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 407)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 2371)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.1ms | Allocations: 2627)


Started GET "/productos" for ::1 at 2025-06-27 20:09:12 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1528)
  Rendered layout layouts/application.html.erb (Duration: 104.1ms | Allocations: 24807)
Completed 200 OK in 175ms (Views: 112.0ms | ActiveRecord: 2.8ms | Allocations: 37062)


Started GET "/movimientos" for ::1 at 2025-06-27 20:09:14 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 48.0ms | Allocations: 10513)
  Rendered layout layouts/application.html.erb (Duration: 54.8ms | Allocations: 12535)
Completed 200 OK in 72ms (Views: 57.7ms | ActiveRecord: 2.5ms | Allocations: 15125)


Started GET "/productos" for ::1 at 2025-06-27 20:09:15 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 409)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 2394)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 2650)


Started GET "/movimientos" for ::1 at 2025-06-27 20:09:45 -0600
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 8 pending migrations:

db/migrate/20250627234329_create_productos.rb
db/migrate/20250627234335_create_movimientos.rb
db/migrate/20250627234342_create_clientes.rb
db/migrate/20250627234355_create_tasas.rb
db/migrate/20250627234404_create_facturas.rb
db/migrate/20250627234413_create_detalle_facturas.rb
db/migrate/20250628020332_add_producto_nombre_to_movimientos.rb
db/migrate/20250628020619_allow_null_producto_id_on_movimientos.rb


):
  
activerecord (7.1.5.1) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.5.1) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.5.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.5.1) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.5.1) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.5.1) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/movimientos" for ::1 at 2025-06-27 20:09:49 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 8 pending migrations:

db/migrate/20250627234329_create_productos.rb
db/migrate/20250627234335_create_movimientos.rb
db/migrate/20250627234342_create_clientes.rb
db/migrate/20250627234355_create_tasas.rb
db/migrate/20250627234404_create_facturas.rb
db/migrate/20250627234413_create_detalle_facturas.rb
db/migrate/20250628020332_add_producto_nombre_to_movimientos.rb
db/migrate/20250628020619_allow_null_producto_id_on_movimientos.rb


):
  
activerecord (7.1.5.1) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.5.1) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.5.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.5.1) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.5.1) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.5.1) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (5.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-06-28 02:10:03.045977', '2025-06-28 02:10:03.045980') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProductos (20250627234329)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "productos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "precio" decimal, "stock" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234329') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMovimientos (20250627234335)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "movimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "tipo" varchar, "nota" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_3e151d0f6d"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_movimientos_on_producto_id" ON "movimientos" ("producto_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234335') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateClientes (20250627234342)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "clientes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "correo" varchar, "direccion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234342') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTasas (20250627234355)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "tasas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "porcentaje" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234355') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFacturas (20250627234404)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "cliente_id" integer NOT NULL, "numero" integer, "subtotal" decimal, "total" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c1da424846"
FOREIGN KEY ("cliente_id")
  REFERENCES "clientes" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_facturas_on_cliente_id" ON "facturas" ("cliente_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234404') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateDetalleFacturas (20250627234413)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "detalle_facturas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "factura_id" integer NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer, "precio_unitario" decimal, "tasa_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1a9aeb3114"
FOREIGN KEY ("factura_id")
  REFERENCES "facturas" ("id")
, CONSTRAINT "fk_rails_0a3f83598c"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
, CONSTRAINT "fk_rails_0d73f41fa9"
FOREIGN KEY ("tasa_id")
  REFERENCES "tasas" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_factura_id" ON "detalle_facturas" ("factura_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_producto_id" ON "detalle_facturas" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_detalle_facturas_on_tasa_id" ON "detalle_facturas" ("tasa_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627234413') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddProductoNombreToMovimientos (20250628020332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "movimientos" ADD "producto_nombre" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250628020332') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AllowNullProductoIdOnMovimientos (20250628020619)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amovimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer NOT NULL, "cantidad" integer DEFAULT NULL, "tipo" varchar DEFAULT NULL, "nota" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "producto_nombre" varchar DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amovimientos_on_producto_id" ON "amovimientos" ("producto_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "amovimientos" ("id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre")
                     SELECT "id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre" FROM "movimientos"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "movimientos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "movimientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "producto_id" integer DEFAULT NULL, "cantidad" integer DEFAULT NULL, "tipo" varchar DEFAULT NULL, "nota" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "producto_nombre" varchar DEFAULT NULL, CONSTRAINT "fk_rails_3e151d0f6d"
FOREIGN KEY ("producto_id")
  REFERENCES "productos" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_movimientos_on_producto_id" ON "movimientos" ("producto_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "movimientos" ("id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre")
                     SELECT "id","producto_id","cantidad","tipo","nota","created_at","updated_at","producto_nombre" FROM "amovimientos"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amovimientos"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250628020619') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/movimientos" for ::1 at 2025-06-27 20:10:31 -0600
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1511)
  Rendered layout layouts/application.html.erb (Duration: 131.8ms | Allocations: 25012)
Completed 200 OK in 207ms (Views: 144.2ms | ActiveRecord: 3.2ms | Allocations: 38407)


Started GET "/productos" for ::1 at 2025-06-27 20:10:33 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 889)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 2863)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.1ms | Allocations: 4624)


Started GET "/productos/new" for ::1 at 2025-06-27 20:10:34 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 9.7ms | Allocations: 2117)
  Rendered productos/new.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2424)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 4188)
Completed 200 OK in 54ms (Views: 24.7ms | ActiveRecord: 0.3ms | Allocations: 9942)


Started POST "/productos" for ::1 at 2025-06-27 20:10:41 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Sandalias X pro max", "precio"=>"150"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (6.3ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Sandalias X pro max"], ["precio", 150.0], ["stock", nil], ["created_at", "2025-06-28 02:10:42.012420"], ["updated_at", "2025-06-28 02:10:42.012420"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 114ms (ActiveRecord: 17.4ms | Allocations: 8000)


Started GET "/productos" for ::1 at 2025-06-27 20:10:42 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 90.4ms | Allocations: 4472)
  Rendered layout layouts/application.html.erb (Duration: 132.2ms | Allocations: 6470)
Completed 200 OK in 136ms (Views: 134.2ms | ActiveRecord: 1.1ms | Allocations: 6762)


Started GET "/movimientos" for ::1 at 2025-06-27 20:10:44 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 418)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 2408)
Completed 200 OK in 36ms (Views: 35.0ms | ActiveRecord: 0.1ms | Allocations: 2698)


Started GET "/productos" for ::1 at 2025-06-27 20:10:45 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 39.5ms | Allocations: 3279)
  Rendered layout layouts/application.html.erb (Duration: 72.2ms | Allocations: 5254)
Completed 200 OK in 76ms (Views: 74.2ms | ActiveRecord: 0.8ms | Allocations: 5504)


Started GET "/productos/new" for ::1 at 2025-06-27 20:10:50 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.1ms | Allocations: 722)
  Rendered productos/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 2535)
Completed 200 OK in 24ms (Views: 23.8ms | ActiveRecord: 0.0ms | Allocations: 2788)


Started GET "/productos/new" for ::1 at 2025-06-27 20:10:51 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.5ms | Allocations: 716)
  Rendered productos/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 781)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 2528)
Completed 200 OK in 34ms (Views: 33.0ms | ActiveRecord: 0.0ms | Allocations: 2781)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 20:10:53 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.8ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.5ms | Allocations: 762)
  Rendered productos/edit.html.erb within layouts/application (Duration: 10.3ms | Allocations: 958)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | Allocations: 2701)
Completed 200 OK in 66ms (Views: 43.3ms | ActiveRecord: 0.6ms | Allocations: 4437)


Started GET "/productos/1/edit" for ::1 at 2025-06-27 20:10:54 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.4ms | Allocations: 741)
  Rendered productos/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 2549)
Completed 200 OK in 43ms (Views: 37.7ms | ActiveRecord: 0.2ms | Allocations: 3141)


Started GET "/movimientos/new?producto_id=1&tipo=entrada" for ::1 at 2025-06-27 20:10:55 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"1", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 19.1ms | Allocations: 2414)
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 4157)
Completed 200 OK in 89ms (Views: 45.1ms | ActiveRecord: 0.4ms | Allocations: 10339)


Started POST "/movimientos?producto_id=1" for ::1 at 2025-06-27 20:11:20 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"400", "nota"=>"Primer registro de sandalias", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mMovimiento Create (6.9ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at", "producto_nombre") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 1], ["cantidad", 400], ["tipo", "entrada"], ["nota", "Primer registro de sandalias"], ["created_at", "2025-06-28 02:11:20.410894"], ["updated_at", "2025-06-28 02:11:20.410894"], ["producto_nombre", "Sandalias X pro max"]]
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
Redirected to http://localhost:3000/movimientos
Completed 302 Found in 25ms (ActiveRecord: 7.5ms | Allocations: 2536)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:20 -0600
Processing by MovimientosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 270.5ms | Allocations: 10100)
  Rendered layout layouts/application.html.erb (Duration: 285.3ms | Allocations: 12122)
Completed 200 OK in 288ms (Views: 287.5ms | ActiveRecord: 0.3ms | Allocations: 12408)


Started GET "/productos" for ::1 at 2025-06-27 20:11:25 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 26.1ms | Allocations: 3277)
  Rendered layout layouts/application.html.erb (Duration: 55.0ms | Allocations: 5266)
Completed 200 OK in 58ms (Views: 56.9ms | ActiveRecord: 0.5ms | Allocations: 5517)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:27 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 1155)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 3141)
Completed 200 OK in 37ms (Views: 36.4ms | ActiveRecord: 0.3ms | Allocations: 3423)


Started GET "/productos" for ::1 at 2025-06-27 20:11:29 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 27.6ms | Allocations: 3276)
  Rendered layout layouts/application.html.erb (Duration: 52.3ms | Allocations: 5239)
Completed 200 OK in 56ms (Views: 54.4ms | ActiveRecord: 0.5ms | Allocations: 5489)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:30 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 1149)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 3136)
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.5ms | Allocations: 3418)


Started GET "/productos" for ::1 at 2025-06-27 20:11:32 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 3276)
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | Allocations: 5239)
Completed 200 OK in 73ms (Views: 71.9ms | ActiveRecord: 0.9ms | Allocations: 5489)


Started GET "/productos/1" for ::1 at 2025-06-27 20:11:33 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 1], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 36.0ms | Allocations: 3498)
  Rendered layout layouts/application.html.erb (Duration: 70.7ms | Allocations: 5233)
Completed 200 OK in 84ms (Views: 72.9ms | ActiveRecord: 1.1ms | Allocations: 5910)


Started DELETE "/productos/1" for ::1 at 2025-06-27 20:11:34 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Update All (7.8ms)[0m  [1m[33mUPDATE "movimientos" SET "producto_id" = ? WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", nil], ["producto_id", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 29ms (ActiveRecord: 8.7ms | Allocations: 2720)


Started GET "/productos" for ::1 at 2025-06-27 20:11:35 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 2426)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.1ms | Allocations: 2679)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:36 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 613)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 2590)
Completed 200 OK in 28ms (Views: 26.7ms | ActiveRecord: 0.2ms | Allocations: 2872)


Started GET "/productos" for ::1 at 2025-06-27 20:11:39 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 2383)
Completed 200 OK in 32ms (Views: 31.4ms | ActiveRecord: 0.1ms | Allocations: 2634)


Started GET "/productos/new" for ::1 at 2025-06-27 20:11:40 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.3ms | Allocations: 722)
  Rendered productos/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 2539)
Completed 200 OK in 31ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 2792)


Started POST "/productos" for ::1 at 2025-06-27 20:11:46 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"5000"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (5.6ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Samsung Laptop"], ["precio", 5000.0], ["stock", nil], ["created_at", "2025-06-28 02:11:46.417267"], ["updated_at", "2025-06-28 02:11:46.417267"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.7ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 28ms (ActiveRecord: 6.7ms | Allocations: 2939)


Started GET "/productos" for ::1 at 2025-06-27 20:11:46 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 3284)
  Rendered layout layouts/application.html.erb (Duration: 80.8ms | Allocations: 5296)
Completed 200 OK in 84ms (Views: 82.5ms | ActiveRecord: 0.7ms | Allocations: 5550)


Started GET "/productos/new" for ::1 at 2025-06-27 20:11:46 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.8ms | Allocations: 728)
  Rendered productos/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 2540)
Completed 200 OK in 51ms (Views: 49.7ms | ActiveRecord: 0.0ms | Allocations: 2793)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:11:47 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 4.5ms | Allocations: 738)
  Rendered productos/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 803)
Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 20:11:47 -0600
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | Allocations: 2897)
Completed 200 OK in 49ms (Views: 44.0ms | ActiveRecord: 0.3ms | Allocations: 3640)


Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 1788)
  Rendered layout layouts/application.html.erb (Duration: 51.4ms | Allocations: 3531)
Completed 200 OK in 60ms (Views: 54.4ms | ActiveRecord: 0.7ms | Allocations: 4155)


Started POST "/movimientos?producto_id=2" for ::1 at 2025-06-27 20:11:56 -0600
Processing by MovimientosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "movimiento"=>{"cantidad"=>"20", "nota"=>"Primeras laptops", "tipo"=>"entrada"}, "commit"=>"Registrar Movimiento", "producto_id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mMovimiento Create (7.8ms)[0m  [1m[32mINSERT INTO "movimientos" ("producto_id", "cantidad", "tipo", "nota", "created_at", "updated_at", "producto_nombre") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["producto_id", 2], ["cantidad", 20], ["tipo", "entrada"], ["nota", "Primeras laptops"], ["created_at", "2025-06-28 02:11:56.540763"], ["updated_at", "2025-06-28 02:11:56.540763"], ["producto_nombre", "Samsung Laptop"]]
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/movimientos_controller.rb:20:in `create'
Redirected to http://localhost:3000/movimientos
Completed 302 Found in 24ms (ActiveRecord: 9.4ms | Allocations: 2231)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:56 -0600
Processing by MovimientosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.1ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 2]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1234)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 3240)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.2ms | Allocations: 3525)


Started GET "/movimientos" for ::1 at 2025-06-27 20:11:58 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 2]]
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 1234)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 3223)
Completed 200 OK in 41ms (Views: 39.8ms | ActiveRecord: 0.3ms | Allocations: 3505)


Started GET "/productos" for ::1 at 2025-06-27 20:12:12 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 32.2ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 5259)
Completed 200 OK in 63ms (Views: 61.6ms | ActiveRecord: 0.6ms | Allocations: 5509)


Started GET "/productos" for ::1 at 2025-06-27 20:17:00 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 66.7ms | Allocations: 5259)
Completed 200 OK in 70ms (Views: 68.6ms | ActiveRecord: 0.5ms | Allocations: 5509)


Started GET "/productos/new" for ::1 at 2025-06-27 20:17:01 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.8ms | Allocations: 722)
  Rendered productos/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 2538)
Completed 200 OK in 25ms (Views: 24.5ms | ActiveRecord: 0.0ms | Allocations: 2792)


Started GET "/productos" for ::1 at 2025-06-27 20:17:15 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 37.7ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 66.2ms | Allocations: 5259)
Completed 200 OK in 70ms (Views: 68.4ms | ActiveRecord: 0.8ms | Allocations: 5509)


Started GET "/productos/new" for ::1 at 2025-06-27 20:17:19 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 5.2ms | Allocations: 716)
  Rendered productos/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 781)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 2529)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms | Allocations: 2782)


Started POST "/productos" for ::1 at 2025-06-27 20:17:22 -0600
Processing by ProductosController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "producto"=>{"nombre"=>"Samsung Laptop", "precio"=>"12434"}, "commit"=>"Crear Producto"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mProducto Create (4.9ms)[0m  [1m[32mINSERT INTO "productos" ("nombre", "precio", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Samsung Laptop"], ["precio", 12434.0], ["stock", nil], ["created_at", "2025-06-28 02:17:23.323879"], ["updated_at", "2025-06-28 02:17:23.323879"]]
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:19:in `create'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Redirected to http://localhost:3000/productos
Completed 302 Found in 36ms (ActiveRecord: 6.0ms | Allocations: 2934)


Started GET "/productos" for ::1 at 2025-06-27 20:17:23 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 77.6ms | Allocations: 6156)
  Rendered layout layouts/application.html.erb (Duration: 108.8ms | Allocations: 8142)
Completed 200 OK in 113ms (Views: 110.1ms | ActiveRecord: 1.8ms | Allocations: 8395)


Started GET "/productos/3" for ::1 at 2025-06-27 20:17:44 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 34.2ms | Allocations: 3151)
  Rendered layout layouts/application.html.erb (Duration: 63.7ms | Allocations: 4886)
Completed 200 OK in 71ms (Views: 67.1ms | ActiveRecord: 0.7ms | Allocations: 5477)


Started GET "/productos" for ::1 at 2025-06-27 20:17:45 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 3], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 60.5ms | Allocations: 6156)
  Rendered layout layouts/application.html.erb (Duration: 85.3ms | Allocations: 8123)
Completed 200 OK in 88ms (Views: 86.5ms | ActiveRecord: 1.2ms | Allocations: 8373)


Started DELETE "/productos/3" for ::1 at 2025-06-27 20:17:46 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Update All (3.8ms)[0m  [1m[33mUPDATE "movimientos" SET "producto_id" = ? WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", nil], ["producto_id", 3]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.2ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 20ms (ActiveRecord: 4.6ms | Allocations: 2511)


Started GET "/productos" for ::1 at 2025-06-27 20:17:46 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 59.6ms | Allocations: 5267)
Completed 200 OK in 63ms (Views: 61.4ms | ActiveRecord: 0.6ms | Allocations: 5520)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 20:17:47 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 1822)
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 3571)
Completed 200 OK in 57ms (Views: 52.1ms | ActiveRecord: 0.8ms | Allocations: 4195)


Started GET "/productos" for ::1 at 2025-06-27 20:18:28 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 93.7ms | Allocations: 9091)
  Rendered layout layouts/application.html.erb (Duration: 130.4ms | Allocations: 11535)
Completed 200 OK in 183ms (Views: 144.6ms | ActiveRecord: 15.7ms | Allocations: 13624)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:18:30 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 9.4ms | Allocations: 1189)
  Rendered productos/edit.html.erb within layouts/application (Duration: 19.7ms | Allocations: 1447)
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 3191)
Completed 200 OK in 70ms (Views: 56.1ms | ActiveRecord: 0.4ms | Allocations: 4479)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 20:18:31 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:18:32 -0600
  Rendered movimientos/new.html.erb within layouts/application (Duration: 25.4ms | Allocations: 2505)
  Rendered layout layouts/application.html.erb (Duration: 117.0ms | Allocations: 4474)
Completed 200 OK in 242ms (Views: 223.0ms | ActiveRecord: 0.7ms | Allocations: 8652)


Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 3.7ms | Allocations: 765)
  Rendered productos/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 842)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 2591)
Completed 200 OK in 44ms (Views: 39.9ms | ActiveRecord: 0.2ms | Allocations: 3182)


Started GET "/productos" for ::1 at 2025-06-27 20:18:33 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.6ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 36.4ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 64.5ms | Allocations: 5266)
Completed 200 OK in 69ms (Views: 67.2ms | ActiveRecord: 0.8ms | Allocations: 5516)


Started GET "/productos" for ::1 at 2025-06-27 20:18:40 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.5ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 36.4ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 65.5ms | Allocations: 5256)
Completed 200 OK in 68ms (Views: 66.6ms | ActiveRecord: 1.0ms | Allocations: 5506)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 20:18:40 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 15.5ms | Allocations: 1799)
  Rendered layout layouts/application.html.erb (Duration: 42.2ms | Allocations: 3557)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.6ms | Allocations: 4181)


Started GET "/productos/2" for ::1 at 2025-06-27 20:18:41 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 30.6ms | Allocations: 3509)
  Rendered layout layouts/application.html.erb (Duration: 53.4ms | Allocations: 5244)
Completed 200 OK in 154ms (Views: 55.8ms | ActiveRecord: 0.7ms | Allocations: 5921)


Started GET "/productos/2" for ::1 at 2025-06-27 20:19:25 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 29.9ms | Allocations: 5631)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 7814)
Completed 200 OK in 154ms (Views: 53.7ms | ActiveRecord: 4.6ms | Allocations: 14056)


Started GET "/productos/2" for ::1 at 2025-06-27 20:19:58 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.4ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 54.0ms | Allocations: 5595)
  Rendered layout layouts/application.html.erb (Duration: 87.0ms | Allocations: 7793)
Completed 200 OK in 276ms (Views: 114.8ms | ActiveRecord: 17.2ms | Allocations: 13990)


Started GET "/productos" for ::1 at 2025-06-27 20:20:02 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.6ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 40.3ms | Allocations: 3704)
  Rendered layout layouts/application.html.erb (Duration: 70.2ms | Allocations: 5676)
Completed 200 OK in 76ms (Views: 71.6ms | ActiveRecord: 1.0ms | Allocations: 6014)


Started GET "/productos" for ::1 at 2025-06-27 20:20:03 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 60.0ms | Allocations: 5278)
Completed 200 OK in 63ms (Views: 61.6ms | ActiveRecord: 0.6ms | Allocations: 5528)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:20:04 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 6.4ms | Allocations: 1167)
  Rendered productos/edit.html.erb within layouts/application (Duration: 19.0ms | Allocations: 1425)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 3168)
Completed 200 OK in 52ms (Views: 44.2ms | ActiveRecord: 0.2ms | Allocations: 3819)


Started GET "/productos" for ::1 at 2025-06-27 20:20:16 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 5267)
Completed 200 OK in 22ms (Views: 21.2ms | ActiveRecord: 0.2ms | Allocations: 5517)


Started GET "/productos" for ::1 at 2025-06-27 20:20:16 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 5249)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.3ms | Allocations: 5499)


Started GET "/productos/new" for ::1 at 2025-06-27 20:20:17 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.0ms | Allocations: 726)
  Rendered productos/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 921)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2669)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 2992)


Started GET "/productos" for ::1 at 2025-06-27 20:20:19 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 37.6ms | Allocations: 3283)
  Rendered layout layouts/application.html.erb (Duration: 64.9ms | Allocations: 5237)
Completed 200 OK in 68ms (Views: 66.6ms | ActiveRecord: 0.7ms | Allocations: 5487)


Started GET "/productos" for ::1 at 2025-06-27 20:22:02 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 76.9ms | Allocations: 9088)
  Rendered layout layouts/application.html.erb (Duration: 118.5ms | Allocations: 11545)
Completed 200 OK in 165ms (Views: 128.5ms | ActiveRecord: 13.1ms | Allocations: 13631)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:22:04 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.3ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 9.8ms | Allocations: 1184)
  Rendered productos/edit.html.erb within layouts/application (Duration: 20.9ms | Allocations: 1442)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 3186)
Completed 200 OK in 63ms (Views: 52.2ms | ActiveRecord: 0.3ms | Allocations: 4474)


Started GET "/productos/2" for ::1 at 2025-06-27 20:22:05 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 22.4ms | Allocations: 3501)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | Allocations: 5236)
Completed 200 OK in 128ms (Views: 43.8ms | ActiveRecord: 0.5ms | Allocations: 5912)


Started GET "/movimientos/new?producto_id=2&tipo=entrada" for ::1 at 2025-06-27 20:23:02 -0600
Processing by MovimientosController#new as HTML
  Parameters: {"producto_id"=>"2", "tipo"=>"entrada"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/movimientos_controller.rb:31:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering movimientos/new.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered movimientos/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2229)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3975)
Completed 200 OK in 22ms (Views: 16.6ms | ActiveRecord: 0.3ms | Allocations: 8147)


Started GET "/productos/2/edit" for ::1 at 2025-06-27 20:23:02 -0600
Processing by ProductosController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/edit.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.6ms | Allocations: 762)
  Rendered productos/edit.html.erb within layouts/application (Duration: 2.1ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2570)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.1ms | Allocations: 3161)


Started GET "/productos/2" for ::1 at 2025-06-27 20:23:05 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 44.7ms | Allocations: 3160)
  Rendered layout layouts/application.html.erb (Duration: 66.1ms | Allocations: 4911)
Completed 200 OK in 71ms (Views: 67.6ms | ActiveRecord: 0.7ms | Allocations: 5502)


Started GET "/productos/2" for ::1 at 2025-06-27 20:23:37 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (1.4ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 33.3ms | Allocations: 5611)
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | Allocations: 7807)
Completed 200 OK in 160ms (Views: 54.7ms | ActiveRecord: 5.1ms | Allocations: 14049)


Started GET "/productos/2" for ::1 at 2025-06-27 20:23:57 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.3ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 57.6ms | Allocations: 5448)
  Rendered layout layouts/application.html.erb (Duration: 86.0ms | Allocations: 7661)
Completed 200 OK in 200ms (Views: 101.7ms | ActiveRecord: 5.1ms | Allocations: 13916)


Started GET "/productos" for ::1 at 2025-06-27 20:23:59 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.1ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 3711)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 5686)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.5ms | Allocations: 6024)


Started GET "/productos/2" for ::1 at 2025-06-27 20:24:26 -0600
Processing by ProductosController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  Rendering layout layouts/application.html.erb
  Rendering productos/show.html.erb within layouts/application
  [1m[36mMovimiento Sum (0.5ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mMovimiento Sum (0.2ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "entrada"]]
  â†³ app/models/producto.rb:9:in `stock'
  [1m[36mCACHE Movimiento Sum (0.0ms)[0m  [1m[34mSELECT SUM("movimientos"."cantidad") FROM "movimientos" WHERE "movimientos"."producto_id" = ? AND "movimientos"."tipo" = ?[0m  [["producto_id", 2], ["tipo", "salida"]]
  â†³ app/models/producto.rb:10:in `stock'
  Rendered productos/show.html.erb within layouts/application (Duration: 30.9ms | Allocations: 5548)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 7748)
Completed 200 OK in 137ms (Views: 55.4ms | ActiveRecord: 5.9ms | Allocations: 13948)


Started DELETE "/productos/2" for ::1 at 2025-06-27 20:24:28 -0600
Processing by ProductosController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos" WHERE "productos"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/productos_controller.rb:64:in `set_producto'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mMovimiento Update All (2.6ms)[0m  [1m[33mUPDATE "movimientos" SET "producto_id" = ? WHERE "movimientos"."producto_id" = ?[0m  [["producto_id", nil], ["producto_id", 2]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mProducto Destroy (0.1ms)[0m  [1m[31mDELETE FROM "productos" WHERE "productos"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/productos_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/productos
Completed 302 Found in 12ms (ActiveRecord: 5.2ms | Allocations: 2600)


Started GET "/productos" for ::1 at 2025-06-27 20:24:28 -0600
Processing by ProductosController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 2804)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 3181)


Started GET "/productos/new" for ::1 at 2025-06-27 20:24:29 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 1.8ms | Allocations: 1142)
  Rendered productos/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1400)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 3147)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 3470)


Started GET "/productos" for ::1 at 2025-06-27 20:24:30 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 2368)
Completed 200 OK in 32ms (Views: 31.7ms | ActiveRecord: 0.1ms | Allocations: 2618)


Started GET "/movimientos" for ::1 at 2025-06-27 20:24:31 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.3ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 4622)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 6621)
Completed 200 OK in 65ms (Views: 59.6ms | ActiveRecord: 0.3ms | Allocations: 7194)


Started GET "/productos" for ::1 at 2025-06-27 20:24:33 -0600
Processing by ProductosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/index.html.erb within layouts/application
  [1m[36mProducto Load (0.2ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/productos/index.html.erb:20
  Rendered productos/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 401)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 2367)
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.2ms | Allocations: 2617)


Started GET "/productos/new" for ::1 at 2025-06-27 20:24:34 -0600
Processing by ProductosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering productos/new.html.erb within layouts/application
  Rendered productos/_form.html.erb (Duration: 2.1ms | Allocations: 719)
  Rendered productos/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 784)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 2531)
Completed 200 OK in 28ms (Views: 27.8ms | ActiveRecord: 0.0ms | Allocations: 2784)


Started GET "/movimientos" for ::1 at 2025-06-27 20:24:35 -0600
Processing by MovimientosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering movimientos/index.html.erb within layouts/application
  [1m[36mMovimiento Load (0.2ms)[0m  [1m[34mSELECT "movimientos".* FROM "movimientos" ORDER BY "movimientos"."created_at" DESC[0m
  â†³ app/views/movimientos/index.html.erb:14
  Rendered movimientos/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 704)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 2681)
Completed 200 OK in 36ms (Views: 35.0ms | ActiveRecord: 0.1ms | Allocations: 2963)


Started GET "/clientes" for ::1 at 2025-06-27 20:24:36 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 934)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 2688)
Completed 200 OK in 59ms (Views: 43.9ms | ActiveRecord: 0.3ms | Allocations: 4099)


Started GET "/clientes" for ::1 at 2025-06-27 20:24:37 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 631)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 2371)
Completed 200 OK in 22ms (Views: 21.8ms | ActiveRecord: 0.1ms | Allocations: 2621)


Started GET "/clientes/new" for ::1 at 2025-06-27 20:24:38 -0600
Processing by ClientesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/new.html.erb within layouts/application
  Rendered clientes/_form.html.erb (Duration: 5.3ms | Allocations: 1497)
  Rendered clientes/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 1777)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 3524)
Completed 200 OK in 68ms (Views: 39.0ms | ActiveRecord: 0.7ms | Allocations: 7733)


Started GET "/clientes/new" for ::1 at 2025-06-27 20:24:39 -0600
Processing by ClientesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/new.html.erb within layouts/application
  Rendered clientes/_form.html.erb (Duration: 2.5ms | Allocations: 917)
  Rendered clientes/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 996)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 2744)
Completed 200 OK in 38ms (Views: 37.0ms | ActiveRecord: 0.0ms | Allocations: 2997)


Started GET "/clientes" for ::1 at 2025-06-27 20:24:42 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 632)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 2374)
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.1ms | Allocations: 2624)


Started GET "/clientes/new" for ::1 at 2025-06-27 20:24:43 -0600
Processing by ClientesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/new.html.erb within layouts/application
  Rendered clientes/_form.html.erb (Duration: 2.5ms | Allocations: 926)
  Rendered clientes/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1005)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 2753)
Completed 200 OK in 31ms (Views: 30.7ms | ActiveRecord: 0.0ms | Allocations: 3006)


Started POST "/clientes" for ::1 at 2025-06-27 20:25:11 -0600
Processing by ClientesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "cliente"=>{"nombre"=>"Jimmy Feng", "correo"=>"jimmycjk349@gmail.com", "direccion"=>"150 mts San Rafael"}, "commit"=>"Create Cliente"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/clientes_controller.rb:19:in `create'
  [1m[36mCliente Create (3.9ms)[0m  [1m[32mINSERT INTO "clientes" ("nombre", "correo", "direccion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Jimmy Feng"], ["correo", "jimmycjk349@gmail.com"], ["direccion", "150 mts San Rafael"], ["created_at", "2025-06-28 02:25:11.656516"], ["updated_at", "2025-06-28 02:25:11.656516"]]
  â†³ app/controllers/clientes_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/clientes_controller.rb:19:in `create'
Redirected to http://localhost:3000/clientes/1
Completed 302 Found in 24ms (ActiveRecord: 5.2ms | Allocations: 2265)


Started GET "/clientes/1" for ::1 at 2025-06-27 20:25:11 -0600
Processing by ClientesController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes" WHERE "clientes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/clientes_controller.rb:42:in `set_cliente'
  Rendering layout layouts/application.html.erb
  Rendering clientes/show.html.erb within layouts/application
  Rendered clientes/_cliente.html.erb (Duration: 1.7ms | Allocations: 207)
  Rendered clientes/show.html.erb within layouts/application (Duration: 298.9ms | Allocations: 8829)
  Rendered layout layouts/application.html.erb (Duration: 312.6ms | Allocations: 10570)
Completed 200 OK in 328ms (Views: 315.1ms | ActiveRecord: 0.3ms | Allocations: 11894)


Started GET "/clientes" for ::1 at 2025-06-27 20:25:16 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/_cliente.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered clientes/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 763)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 2503)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.1ms | Allocations: 2753)


Started GET "/clientes/1" for ::1 at 2025-06-27 20:25:21 -0600
Processing by ClientesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes" WHERE "clientes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/clientes_controller.rb:42:in `set_cliente'
  Rendering layout layouts/application.html.erb
  Rendering clientes/show.html.erb within layouts/application
  Rendered clientes/_cliente.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered clientes/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 500)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 2235)
Completed 200 OK in 29ms (Views: 25.0ms | ActiveRecord: 0.2ms | Allocations: 2828)


Started GET "/tasas" for ::1 at 2025-06-27 20:25:21 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.3ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 923)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 2678)
Completed 200 OK in 57ms (Views: 44.7ms | ActiveRecord: 0.3ms | Allocations: 4083)


Started GET "/clientes" for ::1 at 2025-06-27 20:25:23 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:6
  Rendered clientes/_cliente.html.erb (Duration: 0.2ms | Allocations: 20)
  Rendered clientes/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 772)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 2512)
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.3ms | Allocations: 2763)


Started GET "/clientes" for ::1 at 2025-06-27 20:26:04 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:14
  Rendered clientes/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 4272)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 6478)
Completed 200 OK in 105ms (Views: 40.7ms | ActiveRecord: 8.4ms | Allocations: 8558)


Started GET "/clientes/new" for ::1 at 2025-06-27 20:26:06 -0600
Processing by ClientesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/new.html.erb within layouts/application
  Rendered clientes/_form.html.erb (Duration: 2.5ms | Allocations: 1369)
  Rendered clientes/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1646)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3396)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 3720)


Started GET "/clientes/1" for ::1 at 2025-06-27 20:26:07 -0600
Processing by ClientesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes" WHERE "clientes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/clientes_controller.rb:42:in `set_cliente'
  Rendering layout layouts/application.html.erb
  Rendering clientes/show.html.erb within layouts/application
  Rendered clientes/_cliente.html.erb (Duration: 1.0ms | Allocations: 191)
  Rendered clientes/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 985)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 2722)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 0.3ms | Allocations: 4036)


Started GET "/clientes" for ::1 at 2025-06-27 20:26:57 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:21
  Rendered clientes/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 5526)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 5612)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 7.7ms | Allocations: 7697)


  
ActionView::Template::Error (undefined method `email' for #<Cliente id: 1, nombre: "Jimmy Feng", correo: "jimmycjk349@gmail.com", direccion: "150 mts San Rafael", created_at: "2025-06-28 02:25:11.656516000 +0000", updated_at: "2025-06-28 02:25:11.656516000 +0000">):
    21:     <% @clientes.each do |cliente| %>
    22:       <tr class="hover:bg-gray-50">
    23:         <td class="border px-4 py-2"><%= cliente.nombre %></td>
    24:         <td class="border px-4 py-2"><%= cliente.email %></td>
    25:         <td class="border px-4 py-2"><%= cliente.telefono %></td>
    26:         <td class="border px-4 py-2">
    27:           <div class="flex flex-wrap gap-2">
  
app/views/clientes/index.html.erb:24
app/views/clientes/index.html.erb:21
Started GET "/clientes" for ::1 at 2025-06-27 20:27:20 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.3ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:21
  Rendered clientes/index.html.erb within layouts/application (Duration: 26.6ms | Allocations: 4147)
  Rendered layout layouts/application.html.erb (Duration: 60.3ms | Allocations: 6601)
Completed 200 OK in 173ms (Views: 66.0ms | ActiveRecord: 11.2ms | Allocations: 8679)


Started GET "/clientes" for ::1 at 2025-06-27 20:27:41 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.2ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:21
  Rendered clientes/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 4151)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 6592)
Completed 200 OK in 118ms (Views: 36.8ms | ActiveRecord: 7.3ms | Allocations: 8672)


Started GET "/tasas" for ::1 at 2025-06-27 20:27:44 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (1.0ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 920)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 2674)
Completed 200 OK in 71ms (Views: 59.5ms | ActiveRecord: 0.9ms | Allocations: 4071)


Started GET "/tasas" for ::1 at 2025-06-27 20:27:53 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 654)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 2394)
Completed 200 OK in 30ms (Views: 29.4ms | ActiveRecord: 0.1ms | Allocations: 2644)


Started GET "/facturas" for ::1 at 2025-06-27 20:28:10 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 4742)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 6495)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.2ms | Allocations: 6912)


Started POST "/facturas" for ::1 at 2025-06-27 20:28:14 -0600
Processing by FacturasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "cliente_id"=>"1", "commit"=>"Crear Factura"}
Completed 400 Bad Request in 95ms (ActiveRecord: 0.0ms | Allocations: 8547)


  
ActionController::ParameterMissing (param is missing or the value is empty: factura):
  
app/controllers/facturas_controller.rb:40:in `factura_params'
app/controllers/facturas_controller.rb:3:in `create'
Started GET "/facturas" for ::1 at 2025-06-27 20:28:15 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2281)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4044)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.1ms | Allocations: 4281)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:17 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 629)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2369)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 2620)


Started GET "/facturas" for ::1 at 2025-06-27 20:28:19 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2272)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 4019)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.1ms | Allocations: 4256)


Started POST "/facturas" for ::1 at 2025-06-27 20:28:22 -0600
Processing by FacturasController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "cliente_id"=>"", "commit"=>"Crear Factura"}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 741)


  
ActionController::ParameterMissing (param is missing or the value is empty: factura):
  
app/controllers/facturas_controller.rb:40:in `factura_params'
app/controllers/facturas_controller.rb:3:in `create'
Started GET "/facturas" for ::1 at 2025-06-27 20:28:22 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2268)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 4031)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.1ms | Allocations: 4268)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:32 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 631)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2371)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 2621)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:32 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 651)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2391)
Completed 200 OK in 9ms (Views: 9.0ms | ActiveRecord: 0.1ms | Allocations: 2641)


Started GET "/facturas" for ::1 at 2025-06-27 20:28:33 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.1ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2281)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4028)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.1ms | Allocations: 4265)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:34 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 631)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2387)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 2637)


Started GET "/clientes" for ::1 at 2025-06-27 20:28:34 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:21
  Rendered clientes/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 516)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 2498)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 2748)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:35 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 634)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2374)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.1ms | Allocations: 2624)


Started GET "/clientes" for ::1 at 2025-06-27 20:28:35 -0600
Processing by ClientesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/clientes/index.html.erb:21
  Rendered clientes/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 516)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2488)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms | Allocations: 2738)


Started GET "/facturas" for ::1 at 2025-06-27 20:28:36 -0600
Processing by FacturasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering facturas/index.html.erb within layouts/application
  [1m[36mCliente Load (0.1ms)[0m  [1m[34mSELECT "clientes".* FROM "clientes"[0m
  â†³ app/views/facturas/index.html.erb:6
  [1m[36mProducto Load (0.0ms)[0m  [1m[34mSELECT "productos".* FROM "productos"[0m
  â†³ app/views/facturas/index.html.erb:11
  Rendered facturas/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2282)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 4029)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.1ms | Allocations: 4266)


Started GET "/clientes/new" for ::1 at 2025-06-27 20:28:39 -0600
Processing by ClientesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering clientes/new.html.erb within layouts/application
  Rendered clientes/_form.html.erb (Duration: 2.7ms | Allocations: 1344)
  Rendered clientes/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1621)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 3368)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 3692)


Started GET "/tasas" for ::1 at 2025-06-27 20:28:47 -0600
Processing by TasasController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/index.html.erb within layouts/application
  [1m[36mTasa Load (0.1ms)[0m  [1m[34mSELECT "tasas".* FROM "tasas"[0m
  â†³ app/views/tasas/index.html.erb:6
  Rendered tasas/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 628)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 2368)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.1ms | Allocations: 2618)


Started GET "/tasas/new" for ::1 at 2025-06-27 20:28:48 -0600
Processing by TasasController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering tasas/new.html.erb within layouts/application
  Rendered tasas/_form.html.erb (Duration: 2.4ms | Allocations: 1193)
  Rendered tasas/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1471)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 3218)
Completed 200 OK in 31ms (Views: 16.0ms | ActiveRecord: 0.4ms | Allocations: 6958)


